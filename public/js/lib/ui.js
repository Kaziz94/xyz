var xe=t=>{if(t.svg&&!t.legend)return t.svg;let a={dot:et(t),target:nn(t),triangle:on(t),square:an(t),semiCircle:sn(t),markerLetter:ln(t),markerColor:cn(t),geo:dn(),circle:un(t),diamond:rn(t)};function e(n){let s=`height: ${n.cluster?40:24}px; width: ${n.cluster?40:24}px; position: relative;`,o=mapp.utils.html.node`<div style="${s}">`;function p(c){let _=`position:absolute; height:${c.cluster?40:20}px; width:${c.cluster?40:20}px;`;return c.svg?o.appendChild(mapp.utils.html.node`<img style="${_}" src="${c.svg}"/>`):c.type?o.appendChild(mapp.utils.html.node`<img style="${_}" src="${a[c.type]}"/>`):o.appendChild(mapp.utils.html.node`<img style="${_}" src="${et({color:"#666"})}"/>`)}return n.layers&&Array.isArray(n.layers)?n.layers.map(c=>p(c)):p(n),o}return t.legend?e(t):t.type?a[t.type]:et({color:"#666"})},le=new XMLSerializer;function et(t){let a=mapp.utils.svg.node`
    <svg width=24 height=24 viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
      <circle cx=13 cy=13 r=10 fill='#333'></circle>
      <circle cx=12 cy=12 r=10 fill=${t.fillColor||"#fff"}></circle>`;return`data:image/svg+xml,${encodeURIComponent(le.serializeToString(a))}`}function nn(t){let a=mapp.utils.svg.node`
  <svg width=24 height=24 viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
    <circle cx=13 cy=13 fill='#333' r=10 opacity=0.4></circle>
    <circle cx=12 cy=12 r=10 fill=${t.fillColor||"#FFF"}>`;return t.layers&&Object.entries(t.layers).forEach(e=>{a.appendChild(mapp.utils.svg.node`<circle cx=12 cy=12 r=${parseFloat(e[0])*10} fill=${e[1]}>`)}),`data:image/svg+xml,${encodeURIComponent(le.serializeToString(a))}`}function on(t){let a=mapp.utils.svg.node`
  <svg width=24 height=24 viewBox='${"0 0 24 24"}' xmlns='http://www.w3.org/2000/svg'>
  <polygon points="12,4.68 2,22 22,22" 
  fill="#333" stroke="#333" opacity=0.4 stroke-opacity=0.4 stroke-width=3
  stroke-linejoin="round"/>`;return a.appendChild(mapp.utils.svg.node`<polygon
    fill=${t.fillColor||"#FFF"} stroke=${t.fillColor||"#FFF"} stroke-width=2
    points="12,4.68 2,22 22,22"  stroke-linejoin="round"/>`),t.layers&&Object.entries(t.layers).forEach(e=>{function n(p,c){return 12+(p-12)*c}function s(p,c){return 16+(p-16)*c}let o=`${n(12,e[0])},${s(4.68,e[0])} ${n(2,e[0])}, ${s(22,e[0])} ${n(22,e[0])}, ${s(22,e[0])}`;a.appendChild(mapp.utils.svg.node`<polygon
    fill=${e[1]} stroke=${e[1]||"#FFF"} stroke-width=1
    points="${o}" stroke-linejoin="round"/>`)}),`data:image/svg+xml,${encodeURIComponent(le.serializeToString(a))}`}function an(t){let a=mapp.utils.svg.node`
  <svg width=24 height=24 viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
    <rect fill='#333' opacity=0.3 width=20 height=20 x=2 y=2 rx=1></rect>
    <rect fill=${t.fillColor||"#FFF"} width=20 height=20 x=0 y=0 rx=1></rect>`;return t.layers&&Object.entries(t.layers).forEach(e=>{a.appendChild(mapp.utils.svg.node`<rect fill=${e[1]}
      width=${parseFloat(e[0])*20}
      height=${parseFloat(e[0])*20}
      x=${10*(1-parseFloat(e[0]))}
      y=${10*(1-parseFloat(e[0]))} rx=${parseFloat(e[0])}></rect>`)}),`data:image/svg+xml,${encodeURIComponent(le.serializeToString(a))}`}function rn(t){let a=mapp.utils.svg.node`
  <svg width=24 height=24 viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
  <polygon fill='#333' opacity=0.3
    points="12 0, 24 12, 12 24, 0 12"
    ></polygon>
    <polygon fill=${t.fillColor||"#FFF"}
    points="12 0, 24 12, 12 24, 0 12"
    ></polygon>`;function e(n,s){return 12+(n-12)*s}return t.layers&&Object.entries(t.layers).forEach(n=>{let s=`${e(12,n[0])} ${e(0,n[0])},${e(24,n[0])} ${e(12,n[0])},${e(12,n[0])} ${e(24,n[0])}, ${e(0,n[0])} ${e(12,n[0])}`;a.appendChild(mapp.utils.svg.node`
      <polygon fill=${n[1]||"#FFF"}
      points="${s}"
      ></polygon>`)}),`data:image/svg+xml,${encodeURIComponent(le.serializeToString(a))}`}function sn(t){let a=mapp.utils.svg.node`
  <svg width=30 height=30 viewBox='0 0 20 24' xmlns='http://www.w3.org/2000/svg'>
    <defs>
      <clipPath id="cut-off-shade">
        <rect x="0" y="0" width="24" height="11"/>
      </clipPath>
      <clipPath id="cut-off">
        <rect x="0" y="0" width="24" height="10"/>
      </clipPath>
    </defs>
    <circle cx="11" cy="10" r="10" clip-path="url(#cut-off-shade)" fill="#333" opacity=0.4></circle>
    <circle cx=10 cy=10 r=10 fill=${t.fillColor||"#FFF"} clip-path="url(#cut-off-shade)">`;return t.layers&&Object.entries(t.layers).forEach(e=>{a.appendChild(mapp.utils.svg.node`
    <circle cx=10 cy=10 r=${parseFloat(e[0])*10} fill=${e[1]} clip-path="url(#cut-off-shade)">`)}),`data:image/svg+xml,${encodeURIComponent(le.serializeToString(a))}`}function ln(t){let a=mapp.utils.svg.node`
  <svg width=24 height=24 viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
    <path style="opacity: 0.5;" fill=${t.colorMarker}
      d=" M 12.692 1.969 C 8.605 1.969 5.334 5.239 5.334 9.328 C 5.334 10.963 5.743 12.189 6.764 14.028 C 8.808 17.504 11.922 21.996 11.922 21.996 C 11.922 21.996 16.576 17.504 18.62 14.028 C 19.642 12.189 20.051 10.963 20.051 9.328 C 20.051 5.239 16.78 1.969 12.692 1.969 Z "/>
    <path fill=${t.color}
      d=" M 12 1.969 C 7.878 1.969 4.813 5.239 4.813 9.328 C 4.813 10.554 5.222 12.189 6.244 14.028 C 8.289 17.504 12 22 12 22 C 12 22 16.055 17.504 18.099 14.028 C 19.122 12.189 19.341 10.963 19.341 9.328 C 19.341 5.239 16.054 1.969 12 1.969 Z "/>
    <circle cx="12.17192400568182" cy="8.918683238636365" r="5.109789772727275" opacity=0.8 fill="rgb(255, 255, 255)"/>
    <text x=12 y=12 style="text-anchor: middle; font-weight: 600; font-size: 10px; font-family: sans-serif; fill: rgb(85, 85, 85);">
    ${t.letter}`;return`data:image/svg+xml,${encodeURIComponent(le.serializeToString(a))}`}function cn(t){let a=mapp.utils.svg.node`
  <svg width=18 height=24 viewBox='0 0 24 18' xmlns='http://www.w3.org/2000/svg'>
    <path style="opacity: 0.5;" fill=${t.colorMarker}
      d="M 10.797 1.238 C 6.308 1.238 2.716 4.83 2.716 9.32 C 2.716 11.116 3.165 12.463 4.287 14.483 C 6.532 18.3 9.952 23.234 9.952 23.234 C 9.952 23.234 15.063 18.3 17.308 14.483 C 18.43 12.463 18.879 11.116 18.879 9.32 C 18.879 4.83 15.287 1.238 10.797 1.238 Z"/>
    <path fill=${t.colorMarker}
      d="M 10 1.238 C 5.51 1.238 2.144 4.83 2.144 9.32 C 2.144 10.667 2.593 12.463 3.716 14.483 C 5.961 18.3 10 23.238 10 23.238 C 10 23.238 14.491 18.3 16.736 14.483 C 17.859 12.463 18.1 11.116 18.1 9.32 C 18.1 4.83 14.49 1.238 10 1.238 Z"/>
    <circle cx=10.226 cy=8.871 r=5.612 opacity=0.8 fill="rgb(255, 255, 255)"/>
    <circle cx=10.226 cy=8.871 r=2.806 opacity=0.8 fill=${t.colorDot}/>`;return`data:image/svg+xml,${encodeURIComponent(le.serializeToString(a))}`}function dn(){let t=mapp.utils.svg.node`
  <svg width=1000 height=1000 viewBox='0 0 1000 1000' xmlns='http://www.w3.org/2000/svg'>
    <circle cx=500 cy=500 r=350 stroke='#1F964D' opacity=0.8 stroke-width=75 fill=none></circle>
    <circle cx=500 cy=500 r=200 fill='#1F964D' opacity=0.8></circle>
    <path stroke='#1F964D' opacity=0.8 stroke-width=75 d="M500,150L500,0M500,850L500,1000M0,500L150,500M850,500L1000,500" />`;return`data:image/svg+xml,${encodeURIComponent(le.serializeToString(t))}`}function un(t){let a=mapp.utils.svg.node`
  <svg width=24 height=24 viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'>
    <circle cx=16 cy=16 r=10
      stroke="#333"
      stroke-width="${t.strokeWidth||1}"
      fill="none"></circle>
    <circle cx=15 cy=15 r=10
      stroke="${t.strokeColor||"#333"}"
      stroke-width="${t.strokeWidth||1}"
      fill="${t.fillColor||"none"}"></circle>`;return`data:image/svg+xml,${encodeURIComponent(le.serializeToString(a))}`}var ht=t=>{let a=t.style.theme,e=mapp.utils.html.node`<div class="legend grid">`;return e.appendChild(mapp.utils.html.node`
    <div
      class="switch-all label"
      style="grid-column: 1/3;">
        ${mapp.dictionary.layer_style_switch_caption}
      <a
        class="primary-colour"
        style="cursor: pointer;"
        onclick=${n=>{n.stopPropagation(),e.querySelectorAll(".switch").forEach(s=>s.click()),t.reload()}}>${mapp.dictionary.layer_style_switch_all}</a>.`),t.filter.current[a.field]||(t.filter.current[a.field]={}),Object.entries(a.cat).forEach(n=>{let s=Object.assign({},t.style.default,n[1].style&&n[1].style.marker||n[1].style||n[1]);s.svg||s.type?e.appendChild(xe(Object.assign({legend:!0},s))):s.fillOpacity===void 0?e.appendChild(mapp.utils.svg.node`
      <svg height=24 width=24>
      <line
        x1=0 y1=12 x2=24 y2=12
        stroke=${s.strokeColor}
        stroke-width=${s.strokeWidth||1}>`):e.appendChild(mapp.utils.svg.node`
      <svg height=24 width=24>
      <rect
        width=24 height=24
        fill=${s.fillColor||"#FFF"}
        fill-opacity=${s.fillOpacity}
        stroke=${s.strokeColor}
        stroke-width=${s.strokeWidth||1}>`),e.appendChild(mapp.utils.html.node`
    <div
      class="label switch"
      onclick=${o=>{o.stopPropagation(),o.target.classList.toggle("disabled"),o.target.classList.contains("disabled")?(t.filter.current[a.field].ni||(t.filter.current[a.field].ni=[]),t.filter.current[a.field].ni.push(n[0])):(t.filter.current[a.field].ni.splice(t.filter.current[a.field].ni.indexOf(n[0]),1),t.filter.current[a.field].ni.length||delete t.filter.current[a.field].ni),t.reload()}}>${n[1].label||n[0]}`)}),t.style.cluster&&(e.appendChild(xe(Object.assign({legend:!0,cluster:!0},t.style.cluster))),e.appendChild(mapp.utils.html.node`
    <div class="label" style="alignment-baseline:central;">${mapp.dictionary.layer_style_cluster}`)),e};var gt=t=>{let a=mapp.utils.html.node`<div class="legend grid">`;return t.style.theme.cat_arr.forEach(e=>{let n=Object.assign({},t.style.default,e.style&&e.style.marker||e.style||e);n.svg||n.type?a.appendChild(xe(Object.assign({legend:!0},n))):n.fillOpacity===void 0?a.appendChild(mapp.utils.svg.node`
      <svg height=24 width=24>
      <line
        x1=0 y1=12 x2=24 y2=12
        stroke=${n.strokeColor}
        stroke-width=${n.strokeWidth||1}>`):a.appendChild(mapp.utils.svg.node`
      <svg height=24 width=24>
      <rect
        width=24 height=24
        fill=${n.fillColor||"#FFF"}
        fill-opacity=${n.fillOpacity}
        stroke=${n.strokeColor}
        stroke-width=${n.strokeWidth||1}>`),a.appendChild(mapp.utils.html.node`
    <div  style="grid-column: 2" class="label">${e.label||e.value}`)}),a};var mt=t=>{let a=mapp.utils.html.node`<div class="legend">`;a.appendChild(mapp.utils.html.node`
  <button class="btn-drop">
  <div
    class="head"
    onclick=${p=>{p.preventDefault(),p.target.parentElement.classList.toggle("active")}}>
    <span>${Object.keys(t.grid_fields)[0]}</span>
    <div class="icon"></div>
  </div>
  <ul>
    ${Object.entries(t.grid_fields).map(p=>mapp.utils.html`
        <li onclick=${c=>{let _=c.target.closest(".btn-drop");_.classList.toggle("active"),_.querySelector(":first-child").textContent=p[0],t.grid_size=p[1],t.reload()}}>${p[0]}`)}`);let e=a.appendChild(mapp.utils.svg.node`<svg width=100% height=100px>`);a.appendChild(mapp.utils.html.node`
  <button class="btn-drop">
  <div
    class="head"
    onclick=${p=>{p.preventDefault(),p.target.parentElement.classList.toggle("active")}}>
    <span>${Object.keys(t.grid_fields)[1]}</span>
    <div class="icon"></div>
  </div>
  <ul>
    ${Object.entries(t.grid_fields).map(p=>mapp.utils.html`
      <li onclick=${c=>{let _=c.target.closest(".btn-drop");_.classList.toggle("active"),_.querySelector(":first-child").textContent=p[0],t.grid_color=p[1],t.reload()}}>${p[0]}`)}`);let n=38,s=t.style.range.length,o=100/s;for(let p=0;p<s;p++){let c=(p+2)*10/s,_=p*o;e.appendChild(mapp.utils.svg.node`
    <circle
      fill='#777'
      cx='${_+o/2+1+"%"}'
      cy='${n+1}'
      r='${c}'/>
    <circle
      fill='${t.style.hxcolor||"#999"}'
      cx='${_+o/2+"%"}'
      cy='${n}'
      r='${c}'/>`),p===0&&(a.size_min=e.appendChild(mapp.utils.svg.node`
      <text
        class='label'
        style='text-anchor: start;'
        x=${_+"%"}
        y=${n-20}>${mapp.dictionary.layer_grid_legend_min}`)),p===(s/2%1!=0&&Math.round(s/2)-1)&&(a.size_avg=e.appendChild(mapp.utils.svg.node`
      <text
        class='label'
        style='text-anchor: middle;'
        x=${_+o/2+"%"}
        y=${n-20}>${mapp.dictionary.layer_grid_legend_avg}`)),p===s-1&&(a.size_max=e.appendChild(mapp.utils.svg.node`
      <text
        class='label'
        style='text-anchor: end;'
        x=${_+o+"%"}
        y=${n-20}>${mapp.dictionary.layer_grid_legend_max}`))}n+=20;for(let p=0;p<s;p++){let c=p*o;e.appendChild(mapp.utils.svg.node`
    <rect
      height=20
      width=${o+"%"}
      x=${c+"%"}
      y=${n}
      fill=${t.style.range[p]}`),p===0&&(a.color_min=e.appendChild(mapp.utils.svg.node`
      <text
        class='label'
        style='text-anchor: start;'
        x=${c+"%"}
        y=${n+40}>${mapp.dictionary.layer_grid_legend_min}`)),p===(s/2%1!=0&&Math.round(s/2)-1)&&(a.color_avg=e.appendChild(mapp.utils.svg.node`
      <text
        class='label'
        style='text-anchor: middle;'
        x=${c+o/2+"%"}
        y=${n+40}>${mapp.dictionary.layer_grid_legend_avg}`)),p===s-1&&(a.color_max=e.appendChild(mapp.utils.svg.node`
      <text
        class='label'
        style='text-anchor: end;'
        x=${c+o+"%"}
        y=${n+40}>${mapp.dictionary.layer_grid_legend_max}`))}return a.appendChild(mapp.utils.html.node`
  <td style="padding-top: 5px;" colSpan=2>
  <label class="input-checkbox">
  <input type="checkbox"
    onchange=${p=>{t.grid_ratio=p.target.checked,t.reload()}}>
  </input>
  <div></div><span>${mapp.dictionary.layer_grid_legend_ratio}`),a};var pn={categorized:ht,graduated:gt,grid:mt},bt=t=>{if(!t.style||t.style.hidden||!t.style.theme&&!t.style.label)return;let a=t.view.appendChild(mapp.utils.html.node`
    <div class="drawer panel expandable style-panel">`);if(a.appendChild(mapp.utils.html.node`
    <div
      class="header primary-colour"
      onclick=${s=>{s.stopPropagation(),mapp.ui.toggleExpanderParent(s.target,!0)}}>
      <span>${mapp.dictionary.layer_style_header}</span>
      <button class="btn-header xyz-icon icon-expander primary-colour-filter">`),t.style.label){let s=t.mapview.Map.getView().getZoom();a.appendChild(mapp.utils.html.node`
      <label
        class="${`input-checkbox ${s<=t.style.label.minZoom&&"disabled"||""} ${s>=t.style.label.maxZoom&&"disabled"||""}`}"
        style="margin-bottom: 10px;">
        <input
          type="checkbox"
          .checked=${!!t.style.label.display}
          onchange=${o=>{t.style.label.display=o.target.checked,t.show()}}>
        </input>
        <div></div>
        <span>${t.style.label.title||mapp.dictionary.layer_style_display_labels}`)}t.style.themes&&a.appendChild(mapp.utils.html.node`
    <div>${mapp.dictionary.layer_style_select_theme}</div>
    <button class="btn-drop">
    <div
      class="head"
      onclick=${s=>{s.preventDefault(),s.target.parentElement.classList.toggle("active")}}>
      <span>${Object.keys(t.style.themes)[0]}</span>
      <div class="icon"></div>
    </div>
    <ul>${Object.entries(t.style.themes).map(s=>mapp.utils.html.node`
      <li onclick=${o=>{let p=o.target.closest(".btn-drop");p.querySelector("span").textContent=s[0],p.classList.toggle("active"),t.style.theme=s[1],e(t),t.reload()}}>${s[0]}`)}`),t.style.bringToFront=mapp.utils.html.node`
    <button 
      title=${mapp.dictionary.layer_style_bring_to_front}
      style="margin-top: 5px;"
      class="btn-wide primary-colour"
      onclick=${()=>t.bringToFront()}>${mapp.dictionary.layer_style_bring_to_front}`,!t.style.theme&&t.style.label&&a.appendChild(t.style.bringToFront),t.style.theme&&e(t);function e(s){s.style.legend&&s.style.legend.remove(),s.style.bringToFront.remove(),!(s.style.theme&&!s.style.theme.type)&&(s.style.legend=n(s),a.appendChild(s.style.legend),a.appendChild(s.style.bringToFront))}function n(s){return s.style.legend=mapp.utils.html.node`<div class="legend">`,s.filter=s.filter||{},pn[s.style.theme.type](s)}};var yt=t=>mapp.utils.html.node`
  <button
    class="btn-wide primary-colour"
    onclick=${a=>{a.stopPropagation();let e=a.target;if(e.classList.contains("active"))return t.mapview.interaction.draw.cancel();e.classList.add("active"),t.show(),t.view.querySelector(".header").classList.add("edited","secondary-colour-bg"),t.mapview.interaction.draw.begin({layer:t,type:"Point",callback:()=>{t.view.querySelector(".header").classList.remove("edited","secondary-colour-bg"),e.classList.remove("active")}})}}>${mapp.dictionary.layer_draw_point}`;var tt={point:yt},vt=t=>{if(!t.edit||!Object.keys(t.edit).some(e=>!!tt[e]))return;let a=t.view.appendChild(mapp.utils.html.node`
    <div class="drawer panel expandable draw-panel">`);a.appendChild(mapp.utils.html.node`
    <div
      class="header primary-colour"
      onclick=${e=>{e.stopPropagation(),mapp.ui.toggleExpanderParent(e.target,!0)}}>
      <span>${mapp.dictionary.layer_add_new_location}</span>
      <button class="btn-header xyz-icon icon-expander primary-colour-filter">`),a.append(...Object.keys(t.edit).map(e=>tt[e]&&tt[e](t)).filter(e=>!!e))};function Ie(t){t.view=mapp.utils.html.node`<div class="drawer layer-view">`,t.mapview&&t.mapview.node.addEventListener("changeEnd",a);function a(){if(!!t.tables){if(t.tableCurrent()===null)return t.view.classList.add("disabled");t.view.classList.remove("disabled")}}let e=t.view.appendChild(mapp.utils.html.node`
    <div class="header enabled"><span>${t.name||t.key}`);e.appendChild(mapp.utils.html.node`
    <button
      title=${mapp.dictionary.layer_zoom_to_extent}
      class="btn-header xyz-icon icon-fullscreen"
      onclick=${s=>{s.stopPropagation(),t.zoomToExtent()}}>`);let n=e.appendChild(mapp.utils.html.node`
    <button
      title=${mapp.dictionary.layer_visibility}
      class="${`btn-header xyz-icon icon-toggle ${t.display&&"on"||"off"}`}"
      onclick=${s=>{s.stopPropagation(),t.display?t.remove():t.show()}}>`);if(t.view.addEventListener("display-on",()=>{n.classList.add("on")}),t.view.addEventListener("display-off",()=>{n.classList.remove("on")}),t.meta){let s=t.view.appendChild(mapp.utils.html.node`<p class="meta">`);s.innerHTML=t.meta}bt(t),vt(t),!(t.view.children.length<=1)&&(t.view.classList.add("expandable"),e.onclick=s=>{s.stopPropagation(),mapp.ui.toggleExpanderParent(s.target,!0)},e.appendChild(mapp.utils.html.node`
  <button
    title=${mapp.dictionary.layer_toggle_dashboard}
    class="btn-header xyz-icon icon-expander"
    onclick=${s=>{s.stopPropagation(),mapp.ui.toggleExpanderParent(s.target)}}>`))}function wt(t){if(!t.mapview||!t.target)return;let a={node:t.target,groups:{}};t.mapview.layers.list=new Proxy(t.mapview.layers.list,{set:function(s,o,p){return Reflect.set(...arguments),Ie(p),e(p),!0}}),Object.values(t.mapview.layers.list).forEach(s=>e(s));function e(s){if(!s.hidden){if(Ie(s),!s.group){a.node.appendChild(s.view);return}a.groups[s.group]||n(s),a.groups[s.group].addLayer(s)}}function n(s){let o={list:[]};a.groups[s.group]=o;let p=a.node.appendChild(mapp.utils.html.node`
      <div class="drawer layer-group expandable">`),c=p.appendChild(mapp.utils.html.node`
      <div
        class="header enabled"
        onclick=${L=>{L.stopPropagation(),mapp.ui.toggleExpanderParent(L.target,!0)}}>
        <span>${s.group}`),_=p.appendChild(mapp.utils.html.node`<div class="meta">`);o.chkVisibleLayer=()=>{o.list.some(L=>L.display)?x.classList.add("on"):x.classList.remove("on")},o.addLayer=L=>{if(L.groupmeta){let H=_.appendChild(mapp.utils.html.node`<div>`);H.innerHTML=L.groupmeta}o.list.push(L),p.appendChild(L.view),o.chkVisibleLayer(),L.view.addEventListener("display-on",o.chkVisibleLayer),L.view.addEventListener("display-off",o.chkVisibleLayer)};let x=c.appendChild(mapp.utils.html.node`
      <button
        class="btn-header xyz-icon icon-toggle"
        title=${mapp.dictionary.layer_group_hide_layers}
        onclick=${L=>{if(L.stopPropagation(),L.target.classList.toggle("on"),L.target.classList.contains("on")){o.list.filter(H=>!H.display).forEach(H=>H.show());return}o.list.filter(H=>H.display).forEach(H=>H.remove())}}>`);c.appendChild(mapp.utils.html.node`
      <button
        class="xyz-icon btn-header icon-expander"
        title=${mapp.dictionary.layer_group_toggle}
        onclick=${L=>{L.stopPropagation(),mapp.ui.toggleExpanderParent(L.target)}}>`)}}var Ge=t=>{t.view=mapp.utils.html.node`<div class="drawer location-view expandable expanded">`;let a=t.view.appendChild(mapp.utils.html.node`
    <div
      class = "header"
      style = "${"border-bottom: 2px solid "+t.record.colour}"
      onclick = ${o=>{o.preventDefault(),mapp.ui.toggleExpanderParent(o.target,!0)}}>
      <div>${t.record.symbol}`);a.appendChild(mapp.utils.html.node`
    <button
      style = "${"filter:"+t.record.filter}"
      title = ${mapp.dictionary.location_drawer_toggle}
        class = "btn-header xyz-icon icon-expander "
        onclick = ${o=>{o.stopPropagation(),mapp.ui.toggleExpanderParent(o.target)}}>`),a.appendChild(mapp.utils.html.node`
    <button
      style = "${"filter:"+t.record.filter}"
      title = ${mapp.dictionary.location_zoom}
      class = "btn-header xyz-icon icon-search"
      onclick = ${o=>{o.stopPropagation(),t.flyTo()}}>`);let e=a.appendChild(mapp.utils.html.node`
    <button
      style = "${"filter:"+t.record.filter}"
      title = ${mapp.dictionary.location_save}
      class = "btn-header xyz-icon icon-cloud-upload"
      onclick = ${o=>{o.stopPropagation(),t.update()}}>`);if(a.appendChild(mapp.utils.html.node`
    <button
      style = "${"filter:"+t.record.filter}"
      title = ${mapp.dictionary.location_edit_geometry}
      class = "btn-header xyz-icon icon-build"
      onclick = ${o=>{if(o.stopPropagation(),a.classList.contains("edited"))return _xyz.mapview.interaction.edit.finish();a.classList.add("edited","secondary-colour-bg"),_xyz.mapview.interaction.edit.begin({location:t,type:"LineString",callback:()=>{a.classList.remove("edited","secondary-colour-bg")}})}}>`),a.appendChild(mapp.utils.html.node`
    <button
      style = "${"filter:"+t.record.filter}"
      title = ${mapp.dictionary.location_delete}
      class = "btn-header xyz-icon icon-trash"
      onclick = ${o=>{o.stopPropagation(),t.trash()}}>`),a.appendChild(mapp.utils.html.node`
    <button
      style = "${"filter:"+t.record.filter}"
      title = ${mapp.dictionary.location_hide_marker}
      class = "btn-header xyz-icon icon-location-tick" 
      onclick = ${o=>{o.stopPropagation(),o.target.classList.toggle("icon-location"),o.target.classList.toggle("icon-location-tick"),o.target.classList.contains("icon-location")?_xyz.map.removeLayer(t.Marker):_xyz.map.addLayer(t.Marker)}}>`),a.appendChild(mapp.utils.html.node`
    <button
      style = "${"filter:"+t.record.filter}"
      title = ${mapp.dictionary.location_remove}
      class = "btn-header xyz-icon icon-close"
      onclick = ${o=>{o.stopPropagation(),t.remove(),t.layer.mapview.Map.updateSize()}}>`),t.view.addEventListener("valChange",o=>{let p=typeof o.detail.newValue=="undefined"&&o.detail.input.value||o.detail.newValue;o.detail.entry.value!=p?(o.detail.entry.newValue=p,o.detail.input.classList.add("primary-colour")):(delete o.detail.entry.newValue,o.detail.input.classList.remove("primary-colour")),e.style.display=o.detail.entry.location.infoj.some(c=>typeof c.newValue!="undefined")&&"inline-block"||"none"}),!t.infoj)return;let n;t.view.addEventListener("updateInfo",s),s();function s(){n&&n.remove(),t.view.classList.remove("disabled"),n=mapp.ui.locations.infoj(t),t.view.appendChild(n)}};var Ct=[{symbol:"A",colour:"#4227b0",filter:"invert(19%) sepia(57%) saturate(4245%) hue-rotate(247deg) brightness(76%) contrast(101%)"},{symbol:"B",colour:"#2196f3",filter:"invert(60%) sepia(94%) saturate(3876%) hue-rotate(184deg) brightness(98%) contrast(94%)"},{symbol:"C",colour:"#009688",filter:"invert(37%) sepia(46%) saturate(1993%) hue-rotate(144deg) brightness(96%) contrast(101%)"},{symbol:"D",colour:"#cddc39",filter:"invert(84%) sepia(82%) saturate(420%) hue-rotate(6deg) brightness(88%) contrast(94%)"},{symbol:"E",colour:"#ff9800",filter:"invert(59%) sepia(90%) saturate(1526%) hue-rotate(358deg) brightness(99%) contrast(106%)"},{symbol:"F",colour:"#673ab7",filter:"invert(23%) sepia(26%) saturate(6371%) hue-rotate(251deg) brightness(87%) contrast(87%)"},{symbol:"G",colour:"#03a9f4",filter:"invert(65%) sepia(61%) saturate(5963%) hue-rotate(168deg) brightness(101%) contrast(103%)"},{symbol:"H",colour:"#4caf50",filter:"invert(65%) sepia(8%) saturate(3683%) hue-rotate(73deg) brightness(92%) contrast(69%)"},{symbol:"I",colour:"#ffeb3b",filter:"invert(75%) sepia(76%) saturate(391%) hue-rotate(2deg) brightness(104%) contrast(109%)"},{symbol:"J",colour:"#ff5722",filter:"invert(47%) sepia(96%) saturate(3254%) hue-rotate(346deg) brightness(100%) contrast(102%)"},{symbol:"K",colour:"#0d47a1",filter:"invert(15%) sepia(99%) saturate(2827%) hue-rotate(213deg) brightness(87%) contrast(90%)"},{symbol:"L",colour:"#00bcd4",filter:"invert(60%) sepia(39%) saturate(2788%) hue-rotate(144deg) brightness(93%) contrast(102%)"},{symbol:"M",colour:"#8bc34a",filter:"invert(87%) sepia(8%) saturate(3064%) hue-rotate(35deg) brightness(85%) contrast(85%)"},{symbol:"N",colour:"#ffc107",filter:"invert(79%) sepia(86%) saturate(3969%) hue-rotate(346deg) brightness(98%) contrast(111%)"},{symbol:"O",colour:"#d32f2f",filter:"invert(28%) sepia(94%) saturate(3492%) hue-rotate(345deg) brightness(85%) contrast(92%)"}],kt=t=>{if(!t.mapview||!t.target)return;let a={node:t.target,mapview:t.mapview};return a.node.appendChild(mapp.utils.html.node`
    <button 
      class="tab-display bold primary-colour"
      onclick=${e=>{e.preventDefault(),Object.values(a.mapview.locations.list).forEach(n=>n.remove())}}>
      ${mapp.dictionary.clear_all_locations}`),t.mapview.locations.list=new Proxy(t.mapview.locations.list,{set:function(e,n,s){let o=Ct.find(p=>!p.hook);return o.hook=s.hook,s.record=o,Reflect.set(...arguments),Ge(s),Object.values(a.node.children).forEach(p=>p.classList.remove("expanded")),a.node.insertBefore(s.view,a.node.firstChild.nextSibling),a.node.closest(".tab").style.display="block",a.node.closest(".tab").click(),!0},deleteProperty:function(e,n){Reflect.deleteProperty(...arguments);let s=Ct.find(o=>o.hook===n);return delete s.hook,setTimeout(()=>{if(a.node.children.length>1)return;let o=a.node.closest(".tab");o.style.display="none",o.previousElementSibling.click()},300),!0}}),a};var xt=t=>{if(!t.infoj||t.infoj.length<1)return;let a=mapp.utils.html.node`<div class="location-view-grid">`,e={};for(let n of t.infoj){if(t.view&&t.view.classList.contains("disabled"))break;if(n.listview=a,n.location=t,n.type=n.type||"text",n.inline=n.inline||n.type==="integer"||n.type==="numeric",n.class=`${n.class||""} ${n.type} ${n.inline&&"inline"||""}`,n.type==="key"){n.listview.appendChild(mapp.utils.html.node`
        <div
          class="${n.class}">
          <span
            title=${mapp.dictionary.location_source_layer}
            style="${`background-color: ${mapp.utils.chroma(t.style?.strokeColor||"#090").alpha(.3)}`}">
              ${t.layer.name}`);continue}if(n.displayValue=n.type==="numeric"?parseFloat(n.value).toLocaleString("en-GB",{maximumFractionDigits:2}):n.type==="integer"?parseInt(n.value).toLocaleString("en-GB",{maximumFractionDigits:0}):n.type==="date"?mapp.ui.formatDate(n.value):n.type==="datetime"?mapp.ui.formatDateTime(n.value):n.value,n.displayValue=`${n.prefix||""}${n.displayValue}${n.suffix||""}`,n.group&&(e[n.group]||(e[n.group]=mapp.utils.html.node`
        <div
          class="${`drawer group panel expandable ${n.class||""}`}"
          style="${n.group_css||""}">
          <div
            class="header primary-colour"
            onclick=${s=>{mapp.ui.toggleExpanderParent(s.target)}}>
            <span>${n.group}</span>
            <span class="xyz-icon btn-header icon-expander primary-colour-filter">`,n.listview.appendChild(e[n.group])),n.expanded&&e[n.group].classList.add("expanded"),n.listview=e[n.group]),n.plugin){mapp.plugins[n.plugin]&&mapp.plugins[n.plugin](n);continue}if(!(typeof n.value!="undefined"&&n.value===null&&!n.edit)&&!(n.title&&!n.query&&!n.dataviews&&(!n.edit&&typeof n.value=="undefined"&&n.type!=="title"||(n.listview.appendChild(mapp.utils.html.node`
        <div
          class="${`label ${n.class}`}"
          style="${`${n.css_title||""}`}"
          title="${n.tooltip||null}">${n.title}`),n.type==="title")))){if(mapp.ui.locations.view[n.type]){console.log(n.type),mapp.ui.locations.view[n.type](n);continue}if(!(!n.query&&!n.edit&&typeof n.value=="undefined")&&(n.val=n.listview.appendChild(mapp.utils.html.node`
      <div
        class="${`val ${n.class}`}"
        style="${`${n.css_val||""}`}">`),!n.query)){if(n.edit&&!n.fieldfx){mapp.ui.locations.view.edit.input(n);continue}if(n.type==="html"){n.val.innerHTML=n.value;continue}if(n.displayValue=="null"){n.val.remove();continue}n.val.textContent=n.displayValue}}}return a};var Dt=t=>{if(!t.target)return;let a={node:t.target,tabs:t.target.appendChild(mapp.utils.html.node`<div class="tabs">`),tab:e};return a;function e(n){n.node=mapp.utils.html.node`<div class="tab">`,n.header=n.node.appendChild(mapp.utils.html.node`
      <div
        style="${n.tab_style||""}"
        class="header"
        onclick=${n.show}>
        ${n.title||n.key||"Tab"}`),n.panel=n.node.appendChild(mapp.utils.html.node`
      <div
        class="${`panel ${n.class||""}`}"
        style="${n.style||""}">`),n.target&&n.target instanceof HTMLElement&&n.panel.appendChild(n.target),n.show=()=>{a.tabs.childNodes.forEach(s=>s.classList.remove("active")),!n.node.parentElement&&a.tabs.appendChild(n.node),n.node.classList.add("active"),a.timer&&window.clearTimeout(a.timer),a.timer=window.setTimeout(()=>n.node.dispatchEvent(new CustomEvent("activate")),500),a.node.classList.contains("desktop-display-none")&&(a.node.classList.remove("desktop-display-none"),document.body.style.gridTemplateRows="auto 10px 50px")},n.remove=()=>{if(!n.node.parentElement)return;let s=n.node.nextElementSibling||n.node.previousElementSibling;if(n.node.remove(),s)return s.querySelector(".header").click();a.node.classList.add("desktop-display-none"),document.body.style.gridTemplateRows="auto 0 0"}}};var Et=t=>{return{create:a,plugins:{}};function a(o){if(!o.dataview){if(o.dataview=typeof o.target=="string"&&document.getElementById(o.target),o.dataview=o.target instanceof HTMLElement&&o.target||mapp.utils.html.node`<div class="${`${o.class||""}`}" style="${o.style||""}">`,o.panel instanceof HTMLElement&&o.panel.appendChild(o.dataview),o.dataviews){o.dataview.classList.add("dataview-container");for(let p of o.dataviews)p.tab=o.tab,p.layer=p.layer||o.layer,p.location=p.location||o.location,p.panel=o.dataview,a(p);return}if(o.dataview.classList.add("dataview"),e(o),o.target=o.dataview.appendChild(mapp.utils.html.node`
      <div class="target">`),o.target.style.height=o.toolbar&&"calc(100% - 25px)",o.update=()=>{!o.query||t.query(o).then(p=>{o.setData(p)})},o.tab&&o.tab.addEventListener("activate",o.update),o.mapChange&&t.mapview.node.addEventListener("changeEnd",()=>{o.layer&&!o.layer.display||o.tab&&!o.tab.classList.contains("active")||o.update()}),o.chart&&n(o),o.columns&&s(o),!!o.setData){if(o.data)return o.setData(o.data);!o.tab&&o.update()}}}function e(o){typeof o.toolbar=="object"&&(o.toolbar.node=o.dataview.appendChild(mapp.utils.html.node`
      <div class="toolbar">`),o.toolbar.viewport&&o.toolbar.node.appendChild(mapp.utils.html.node`
        <button
          class="off-white-hover primary-colour"
          onclick=${p=>{p.target.classList.toggle("primary-colour"),o.viewport=!o.viewport,o.update()}}>Viewport`),o.toolbar.download_csv&&o.toolbar.node.appendChild(mapp.utils.html.node`
        <button
          class="off-white-hover primary-colour"
          onclick=${()=>{o.Tabulator.download("csv",`${o.title||"table"}.csv`)}}>CSV`),o.toolbar.download_json&&o.toolbar.node.appendChild(mapp.utils.html.node`
        <button
          class="off-white-hover primary-colour"
          onclick=${()=>{o.Tabulator.download("json",`${o.title||"table"}.json`)}}>JSON`))}function n(o){o.target.style.position="relative";let p=o.target.appendChild(mapp.utils.html.node`<canvas>`);o.chart.height&&p.setAttribute("height",o.chart.height),o.chart.width&&p.setAttribute("width",o.chart.width),!!window.Chart&&(o.chart.ChartJS=new Chart(p,{type:o.chart.type||"bar",options:o.chart.options}),o.setData=c=>{if(!c){if(o.dataview.classList.contains("location")){o.target.innerHTML="";return}o.target.innerHTML=`<div style="text-align:center;"><small>${mapp.dictionary.dataview_no_data}</small></div>`;return}if(o.data=c,o.chart.responseFunction&&o.chart.responseFunction(c),!(c.datasets&&c.datasets.length&&c.datasets.some(x=>!x.data||x.data.some(L=>L!==null))))return o.target.style.display="none";o.chart.datasets&&o.chart.datasets.length&&c.datasets.forEach((x,L)=>Object.assign(x,o.chart.datasets[L])),o.chart.ChartJS.data={labels:typeof o.chart.labels=="function"&&o.chart.labels(c)||c.labels||o.chart.labels,datasets:c.datasets},o.target.style.display="block",o.chart.ChartJS.update()})}function s(o){o.fixed_header&&(o.target.style.display="grid",o.target.style.position="absolute"),o.target=o.target.appendChild(mapp.utils.html.node`<div>`),function p(c){c.forEach(_=>{_.plugin&&(_.formatter=t.dataviews.plugins[_.plugin]),_.columns&&p(_.columns)})}(o.columns),o.target.style.visibility="hidden",o.Tabulator=new Tabulator(o.target,Object.assign({invalidOptionWarnings:!1,tooltipsHeader:!0,columnHeaderVertAlign:"center",layout:o.layout||"fitDataFill",autoColumns:o.autoColumns||!1,height:"auto",rowFormatter:p=>{if(p.getData().backgroundcolour){let c=p.getElement();c.style.backgroundColor=p.getData().backgroundcolour}},selectable:!1,rowClick:(p,c)=>{let _=c.getData();!o.layer||!_[o.qID||"id"]||(t.locations.select({locale:t.locale.key,layer:_.layer||o.layer,table:_.table||o.table,id:_[o.qID||"id"]}),c.deselect())}},o)),o.setData=p=>{!p||(o.data=p,o.responseFunction&&o.responseFunction(p),o.Tabulator.setData(p.length&&p||[p]),o.target.style.visibility="visible")}}};function Mt(t,a){let e=t.closest(".expandable");if(!!e){if(e.classList.contains("expanded"))return e.classList.remove("expanded");a&&[...e.parentElement.children].forEach(n=>{n.classList.remove("expanded")}),e.classList.add("expanded")}}var De=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ee(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Me(t,a,e){return e={path:a,exports:{},require:function(n,s){return fn(n,s??e.path)}},t(e,e.exports),e.exports}function fn(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var hn=Me(function(t,a){(function(e,n){t.exports=n()})(typeof self!="undefined"?self:De,function(){return function(e){var n={};function s(o){if(n[o])return n[o].exports;var p=n[o]={i:o,l:!1,exports:{}};return e[o].call(p.exports,p,p.exports,s),p.l=!0,p.exports}return s.m=e,s.c=n,s.d=function(o,p,c){s.o(o,p)||Object.defineProperty(o,p,{enumerable:!0,get:c})},s.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,p){if(1&p&&(o=s(o)),8&p||4&p&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),2&p&&typeof o!="string")for(var _ in o)s.d(c,_,function(x){return o[x]}.bind(null,_));return c},s.n=function(o){var p=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(p,"a",p),p},s.o=function(o,p){return Object.prototype.hasOwnProperty.call(o,p)},s.p="",s(s.s=1)}([function(e,n,s){var o=s(3);function p(c){return o(c)===!0&&Object.prototype.toString.call(c)==="[object Object]"}e.exports=function(c){var _,x;return p(c)!==!1&&typeof(_=c.constructor)=="function"&&p(x=_.prototype)!==!1&&x.hasOwnProperty("isPrototypeOf")!==!1}},function(e,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.VERSION=n.PALETTE_MATERIAL_CHROME=n.PALETTE_MATERIAL_500=n.COLOR_NAMES=n.getLuminance=n.intToRgb=n.rgbToInt=n.rgbToHsv=n.rgbToHsl=n.hslToRgb=n.rgbToHex=n.parseColor=n.parseColorToHsla=n.parseColorToHsl=n.parseColorToRgba=n.parseColorToRgb=n.from=n.createPicker=void 0;var o=function(){function b(d,l){for(var h=0;h<l.length;h++){var D=l[h];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(d,D.key,D)}}return function(d,l,h){return l&&b(d.prototype,l),h&&b(d,h),d}}(),p=function(b,d){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return function(l,h){var D=[],w=!0,M=!1,v=void 0;try{for(var m,A=l[Symbol.iterator]();!(w=(m=A.next()).done)&&(D.push(m.value),!h||D.length!==h);w=!0);}catch(P){M=!0,v=P}finally{try{!w&&A.return&&A.return()}finally{if(M)throw v}}return D}(b,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=s(2),_=L(s(0)),x=L(s(4));function L(b){return b&&b.__esModule?b:{default:b}}function H(b,d){if(!(b instanceof d))throw new TypeError("Cannot call a class as a function")}function J(b){if(Array.isArray(b)){for(var d=0,l=Array(b.length);d<b.length;d++)l[d]=b[d];return l}return Array.from(b)}var q=typeof window!="undefined"&&window.navigator.userAgent.indexOf("Edge")>-1,I=typeof window!="undefined"&&window.navigator.userAgent.indexOf("rv:")>-1,G={id:null,attachTo:"body",showHSL:!0,showRGB:!0,showHEX:!0,showAlpha:!1,color:"#ff0000",palette:null,paletteEditable:!1,useAlphaInPalette:"auto",slBarSize:[232,150],hueBarSize:[150,11],alphaBarSize:[150,11]},V="COLOR",Z="RGBA_USER",re="HSLA_USER";function U(b,d,l){return b?b instanceof HTMLElement?b:b instanceof NodeList?b[0]:typeof b=="string"?document.querySelector(b):b.jquery?b.get(0):l?d:null:d}function ce(b){var d=b.getContext("2d"),l=+b.width,h=+b.height,D=d.createLinearGradient(1,1,1,h-1);return D.addColorStop(0,"white"),D.addColorStop(1,"black"),{setHue:function(w){var M=d.createLinearGradient(1,0,l-1,0);M.addColorStop(0,"hsla("+w+", 100%, 50%, 0)"),M.addColorStop(1,"hsla("+w+", 100%, 50%, 1)"),d.fillStyle=D,d.fillRect(0,0,l,h),d.fillStyle=M,d.globalCompositeOperation="multiply",d.fillRect(0,0,l,h),d.globalCompositeOperation="source-over"},grabColor:function(w,M){return d.getImageData(w,M,1,1).data},findColor:function(w,M,v){var m=(0,c.rgbToHsv)(w,M,v),A=p(m,3),P=A[1],B=A[2];return[P*l,h-B*h]}}}function ne(b,d,l){return b===null?d:/^\s*$/.test(b)?l:!!/true|yes|1/i.test(b)||!/false|no|0/i.test(b)&&d}function de(b,d,l){if(b===null)return d;if(/^\s*$/.test(b))return l;var h=b.split(",").map(Number);return h.length===2&&h[0]&&h[1]?h:d}var ue=function(){function b(d,l){if(H(this,b),l?(d=U(d),this.options=Object.assign({},G,l)):d&&(0,_.default)(d)?(this.options=Object.assign({},G,d),d=U(this.options.attachTo)):(this.options=Object.assign({},G),d=U((0,c.nvl)(d,this.options.attachTo))),!d)throw new Error("Container not found: "+this.options.attachTo);(function(w,M){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"acp-";if(M.hasAttribute(v+"show-hsl")&&(w.showHSL=ne(M.getAttribute(v+"show-hsl"),G.showHSL,!0)),M.hasAttribute(v+"show-rgb")&&(w.showRGB=ne(M.getAttribute(v+"show-rgb"),G.showRGB,!0)),M.hasAttribute(v+"show-hex")&&(w.showHEX=ne(M.getAttribute(v+"show-hex"),G.showHEX,!0)),M.hasAttribute(v+"show-alpha")&&(w.showAlpha=ne(M.getAttribute(v+"show-alpha"),G.showAlpha,!0)),M.hasAttribute(v+"palette-editable")&&(w.paletteEditable=ne(M.getAttribute(v+"palette-editable"),G.paletteEditable,!0)),M.hasAttribute(v+"sl-bar-size")&&(w.slBarSize=de(M.getAttribute(v+"sl-bar-size"),G.slBarSize,[232,150])),M.hasAttribute(v+"hue-bar-size")&&(w.hueBarSize=de(M.getAttribute(v+"hue-bar-size"),G.hueBarSize,[150,11]),w.alphaBarSize=w.hueBarSize),M.hasAttribute(v+"palette")){var m=M.getAttribute(v+"palette");switch(m){case"PALETTE_MATERIAL_500":w.palette=c.PALETTE_MATERIAL_500;break;case"PALETTE_MATERIAL_CHROME":case"":w.palette=c.PALETTE_MATERIAL_CHROME;break;default:w.palette=m.split(/[;|]/)}}M.hasAttribute(v+"color")&&(w.color=M.getAttribute(v+"color"))})(this.options,d),this.H=0,this.S=0,this.L=0,this.R=0,this.G=0,this.B=0,this.A=1,this.palette={},this.element=document.createElement("div"),this.options.id&&(this.element.id=this.options.id),this.element.className="a-color-picker",this.element.innerHTML=x.default,d.appendChild(this.element);var h=this.element.querySelector(".a-color-picker-h");this.setupHueCanvas(h),this.hueBarHelper=ce(h),this.huePointer=this.element.querySelector(".a-color-picker-h+.a-color-picker-dot");var D=this.element.querySelector(".a-color-picker-sl");this.setupSlCanvas(D),this.slBarHelper=ce(D),this.slPointer=this.element.querySelector(".a-color-picker-sl+.a-color-picker-dot"),this.preview=this.element.querySelector(".a-color-picker-preview"),this.setupClipboard(this.preview.querySelector(".a-color-picker-clipbaord")),this.options.showHSL?(this.setupInput(this.inputH=this.element.querySelector(".a-color-picker-hsl>input[nameref=H]")),this.setupInput(this.inputS=this.element.querySelector(".a-color-picker-hsl>input[nameref=S]")),this.setupInput(this.inputL=this.element.querySelector(".a-color-picker-hsl>input[nameref=L]"))):this.element.querySelector(".a-color-picker-hsl").remove(),this.options.showRGB?(this.setupInput(this.inputR=this.element.querySelector(".a-color-picker-rgb>input[nameref=R]")),this.setupInput(this.inputG=this.element.querySelector(".a-color-picker-rgb>input[nameref=G]")),this.setupInput(this.inputB=this.element.querySelector(".a-color-picker-rgb>input[nameref=B]"))):this.element.querySelector(".a-color-picker-rgb").remove(),this.options.showHEX?this.setupInput(this.inputRGBHEX=this.element.querySelector("input[nameref=RGBHEX]")):this.element.querySelector(".a-color-picker-rgbhex").remove(),this.options.paletteEditable||this.options.palette&&this.options.palette.length>0?this.setPalette(this.paletteRow=this.element.querySelector(".a-color-picker-palette")):(this.paletteRow=this.element.querySelector(".a-color-picker-palette"),this.paletteRow.remove()),this.options.showAlpha?(this.setupAlphaCanvas(this.element.querySelector(".a-color-picker-a")),this.alphaPointer=this.element.querySelector(".a-color-picker-a+.a-color-picker-dot")):this.element.querySelector(".a-color-picker-alpha").remove(),this.element.style.width=this.options.slBarSize[0]+"px",this.onValueChanged(V,this.options.color)}return o(b,[{key:"setupHueCanvas",value:function(d){var l=this;d.width=this.options.hueBarSize[0],d.height=this.options.hueBarSize[1];for(var h=d.getContext("2d"),D=h.createLinearGradient(0,0,this.options.hueBarSize[0],0),w=0;w<=1;w+=1/360)D.addColorStop(w,"hsl("+360*w+", 100%, 50%)");h.fillStyle=D,h.fillRect(0,0,this.options.hueBarSize[0],this.options.hueBarSize[1]);var M=function(m){var A=(0,c.limit)(m.clientX-d.getBoundingClientRect().left,0,l.options.hueBarSize[0]),P=Math.round(360*A/l.options.hueBarSize[0]);l.huePointer.style.left=A-7+"px",l.onValueChanged("H",P)},v=function m(){document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",m)};d.addEventListener("mousedown",function(m){M(m),document.addEventListener("mousemove",M),document.addEventListener("mouseup",v)})}},{key:"setupSlCanvas",value:function(d){var l=this;d.width=this.options.slBarSize[0],d.height=this.options.slBarSize[1];var h=function(w){var M=(0,c.limit)(w.clientX-d.getBoundingClientRect().left,0,l.options.slBarSize[0]-1),v=(0,c.limit)(w.clientY-d.getBoundingClientRect().top,0,l.options.slBarSize[1]-1),m=l.slBarHelper.grabColor(M,v);l.slPointer.style.left=M-7+"px",l.slPointer.style.top=v-7+"px",l.onValueChanged("RGB",m)},D=function w(){document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",w)};d.addEventListener("mousedown",function(w){h(w),document.addEventListener("mousemove",h),document.addEventListener("mouseup",D)})}},{key:"setupAlphaCanvas",value:function(d){var l=this;d.width=this.options.alphaBarSize[0],d.height=this.options.alphaBarSize[1];var h=d.getContext("2d"),D=h.createLinearGradient(0,0,d.width-1,0);D.addColorStop(0,"hsla(0, 0%, 50%, 0)"),D.addColorStop(1,"hsla(0, 0%, 50%, 1)"),h.fillStyle=D,h.fillRect(0,0,this.options.alphaBarSize[0],this.options.alphaBarSize[1]);var w=function(v){var m=(0,c.limit)(v.clientX-d.getBoundingClientRect().left,0,l.options.alphaBarSize[0]),A=+(m/l.options.alphaBarSize[0]).toFixed(2);l.alphaPointer.style.left=m-7+"px",l.onValueChanged("ALPHA",A)},M=function v(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",v)};d.addEventListener("mousedown",function(v){w(v),document.addEventListener("mousemove",w),document.addEventListener("mouseup",M)})}},{key:"setupInput",value:function(d){var l=this,h=+d.min,D=+d.max,w=d.getAttribute("nameref");d.hasAttribute("select-on-focus")&&d.addEventListener("focus",function(){d.select()}),d.type==="text"?d.addEventListener("change",function(){l.onValueChanged(w,d.value)}):((q||I)&&d.addEventListener("keydown",function(M){M.key==="Up"?(d.value=(0,c.limit)(+d.value+1,h,D),l.onValueChanged(w,d.value),M.returnValue=!1):M.key==="Down"&&(d.value=(0,c.limit)(+d.value-1,h,D),l.onValueChanged(w,d.value),M.returnValue=!1)}),d.addEventListener("change",function(){var M=+d.value;l.onValueChanged(w,(0,c.limit)(M,h,D))}))}},{key:"setupClipboard",value:function(d){var l=this;d.title="click to copy",d.addEventListener("click",function(){d.value=(0,c.parseColor)([l.R,l.G,l.B,l.A],"hexcss4"),d.select(),document.execCommand("copy")})}},{key:"setPalette",value:function(d){var l=this,h=this.options.useAlphaInPalette==="auto"?this.options.showAlpha:this.options.useAlphaInPalette,D=null;switch(this.options.palette){case"PALETTE_MATERIAL_500":D=c.PALETTE_MATERIAL_500;break;case"PALETTE_MATERIAL_CHROME":D=c.PALETTE_MATERIAL_CHROME;break;default:D=(0,c.ensureArray)(this.options.palette)}if(this.options.paletteEditable||D.length>0){var w=function(m,A,P){var B=d.querySelector('.a-color-picker-palette-color[data-color="'+m+'"]')||document.createElement("div");B.className="a-color-picker-palette-color",B.style.backgroundColor=m,B.setAttribute("data-color",m),B.title=m,d.insertBefore(B,A),l.palette[m]=!0,P&&l.onPaletteColorAdd(m)},M=function(m,A){m?(d.removeChild(m),l.palette[m.getAttribute("data-color")]=!1,A&&l.onPaletteColorRemove(m.getAttribute("data-color"))):(d.querySelectorAll(".a-color-picker-palette-color[data-color]").forEach(function(P){d.removeChild(P)}),Object.keys(l.palette).forEach(function(P){l.palette[P]=!1}),A&&l.onPaletteColorRemove())};if(D.map(function(m){return(0,c.parseColor)(m,h?"rgbcss4":"hex")}).filter(function(m){return!!m}).forEach(function(m){return w(m)}),this.options.paletteEditable){var v=document.createElement("div");v.className="a-color-picker-palette-color a-color-picker-palette-add",v.innerHTML="+",d.appendChild(v),d.addEventListener("click",function(m){/a-color-picker-palette-add/.test(m.target.className)?m.shiftKey?M(null,!0):w(h?(0,c.parseColor)([l.R,l.G,l.B,l.A],"rgbcss4"):(0,c.rgbToHex)(l.R,l.G,l.B),m.target,!0):/a-color-picker-palette-color/.test(m.target.className)&&(m.shiftKey?M(m.target,!0):l.onValueChanged(V,m.target.getAttribute("data-color")))})}else d.addEventListener("click",function(m){/a-color-picker-palette-color/.test(m.target.className)&&l.onValueChanged(V,m.target.getAttribute("data-color"))})}else d.style.display="none"}},{key:"updatePalette",value:function(d){this.paletteRow.innerHTML="",this.palette={},this.paletteRow.parentElement||this.element.appendChild(this.paletteRow),this.options.palette=d,this.setPalette(this.paletteRow)}},{key:"onValueChanged",value:function(d,l){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{silent:!1};switch(d){case"H":this.H=l;var D=(0,c.hslToRgb)(this.H,this.S,this.L),w=p(D,3);this.R=w[0],this.G=w[1],this.B=w[2],this.slBarHelper.setHue(l),this.updatePointerH(this.H),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B);break;case"S":this.S=l;var M=(0,c.hslToRgb)(this.H,this.S,this.L),v=p(M,3);this.R=v[0],this.G=v[1],this.B=v[2],this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B);break;case"L":this.L=l;var m=(0,c.hslToRgb)(this.H,this.S,this.L),A=p(m,3);this.R=A[0],this.G=A[1],this.B=A[2],this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B);break;case"R":this.R=l;var P=(0,c.rgbToHsl)(this.R,this.G,this.B),B=p(P,3);this.H=B[0],this.S=B[1],this.L=B[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGBHEX(this.R,this.G,this.B);break;case"G":this.G=l;var j=(0,c.rgbToHsl)(this.R,this.G,this.B),W=p(j,3);this.H=W[0],this.S=W[1],this.L=W[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGBHEX(this.R,this.G,this.B);break;case"B":this.B=l;var Ce=(0,c.rgbToHsl)(this.R,this.G,this.B),ae=p(Ce,3);this.H=ae[0],this.S=ae[1],this.L=ae[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGBHEX(this.R,this.G,this.B);break;case"RGB":var pe=p(l,3);this.R=pe[0],this.G=pe[1],this.B=pe[2];var We=(0,c.rgbToHsl)(this.R,this.G,this.B),Se=p(We,3);this.H=Se[0],this.S=Se[1],this.L=Se[2],this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B);break;case Z:var fe=p(l,4);this.R=fe[0],this.G=fe[1],this.B=fe[2],this.A=fe[3];var Xe=(0,c.rgbToHsl)(this.R,this.G,this.B),Ae=p(Xe,3);this.H=Ae[0],this.S=Ae[1],this.L=Ae[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B),this.updatePointerA(this.A);break;case re:var we=p(l,4);this.H=we[0],this.S=we[1],this.L=we[2],this.A=we[3];var Ue=(0,c.hslToRgb)(this.H,this.S,this.L),ke=p(Ue,3);this.R=ke[0],this.G=ke[1],this.B=ke[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B),this.updatePointerA(this.A);break;case"RGBHEX":var Be=(0,c.cssColorToRgb)(l)||[this.R,this.G,this.B],he=p(Be,3);this.R=he[0],this.G=he[1],this.B=he[2];var Ke=(0,c.rgbToHsl)(this.R,this.G,this.B),_e=p(Ke,3);this.H=_e[0],this.S=_e[1],this.L=_e[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B);break;case V:var Oe=(0,c.parseColor)(l,"rgba")||[0,0,0,1],ge=p(Oe,4);this.R=ge[0],this.G=ge[1],this.B=ge[2],this.A=ge[3];var je=(0,c.rgbToHsl)(this.R,this.G,this.B),me=p(je,3);this.H=me[0],this.S=me[1],this.L=me[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B),this.updatePointerA(this.A);break;case"ALPHA":this.A=l}this.A===1?this.preview.style.backgroundColor="rgb("+this.R+","+this.G+","+this.B+")":this.preview.style.backgroundColor="rgba("+this.R+","+this.G+","+this.B+","+this.A+")",h&&h.silent||this.onchange&&this.onchange(this.preview.style.backgroundColor)}},{key:"onPaletteColorAdd",value:function(d){this.oncoloradd&&this.oncoloradd(d)}},{key:"onPaletteColorRemove",value:function(d){this.oncolorremove&&this.oncolorremove(d)}},{key:"updateInputHSL",value:function(d,l,h){this.options.showHSL&&(this.inputH.value=d,this.inputS.value=l,this.inputL.value=h)}},{key:"updateInputRGB",value:function(d,l,h){this.options.showRGB&&(this.inputR.value=d,this.inputG.value=l,this.inputB.value=h)}},{key:"updateInputRGBHEX",value:function(d,l,h){this.options.showHEX&&(this.inputRGBHEX.value=(0,c.rgbToHex)(d,l,h))}},{key:"updatePointerH",value:function(d){var l=this.options.hueBarSize[0]*d/360;this.huePointer.style.left=l-7+"px"}},{key:"updatePointerSL",value:function(d,l,h){var D=(0,c.hslToRgb)(d,l,h),w=p(D,3),M=w[0],v=w[1],m=w[2],A=this.slBarHelper.findColor(M,v,m),P=p(A,2),B=P[0],j=P[1];B>=0&&(this.slPointer.style.left=B-7+"px",this.slPointer.style.top=j-7+"px")}},{key:"updatePointerA",value:function(d){if(this.options.showAlpha){var l=this.options.alphaBarSize[0]*d;this.alphaPointer.style.left=l-7+"px"}}}]),b}(),f=function(){function b(d){H(this,b),this.name=d,this.listeners=[]}return o(b,[{key:"on",value:function(d){d&&this.listeners.push(d)}},{key:"off",value:function(d){this.listeners=d?this.listeners.filter(function(l){return l!==d}):[]}},{key:"emit",value:function(d,l){for(var h=this.listeners.slice(0),D=0;D<h.length;D++)h[D].apply(l,d)}}]),b}();function C(b,d){var l=new ue(b,d),h={change:new f("change"),coloradd:new f("coloradd"),colorremove:new f("colorremove")},D=!0,w={},M={get element(){return l.element},get rgb(){return[l.R,l.G,l.B]},set rgb(v){var m=p(v,3),A=m[0],P=m[1],B=m[2],j=[(0,c.limit)(A,0,255),(0,c.limit)(P,0,255),(0,c.limit)(B,0,255)];A=j[0],P=j[1],B=j[2],l.onValueChanged(Z,[A,P,B,1])},get hsl(){return[l.H,l.S,l.L]},set hsl(v){var m=p(v,3),A=m[0],P=m[1],B=m[2],j=[(0,c.limit)(A,0,360),(0,c.limit)(P,0,100),(0,c.limit)(B,0,100)];A=j[0],P=j[1],B=j[2],l.onValueChanged(re,[A,P,B,1])},get rgbhex(){return this.all.hex},get rgba(){return[l.R,l.G,l.B,l.A]},set rgba(v){var m=p(v,4),A=m[0],P=m[1],B=m[2],j=m[3],W=[(0,c.limit)(A,0,255),(0,c.limit)(P,0,255),(0,c.limit)(B,0,255),(0,c.limit)(j,0,1)];A=W[0],P=W[1],B=W[2],j=W[3],l.onValueChanged(Z,[A,P,B,j])},get hsla(){return[l.H,l.S,l.L,l.A]},set hsla(v){var m=p(v,4),A=m[0],P=m[1],B=m[2],j=m[3],W=[(0,c.limit)(A,0,360),(0,c.limit)(P,0,100),(0,c.limit)(B,0,100),(0,c.limit)(j,0,1)];A=W[0],P=W[1],B=W[2],j=W[3],l.onValueChanged(re,[A,P,B,j])},get color(){return this.all.toString()},set color(v){l.onValueChanged(V,v)},setColor:function(v){var m=arguments.length>1&&arguments[1]!==void 0&&arguments[1];l.onValueChanged(V,v,{silent:m})},get all(){if(D){var v=[l.R,l.G,l.B,l.A],m=l.A<1?"rgba("+l.R+","+l.G+","+l.B+","+l.A+")":c.rgbToHex.apply(void 0,v);(w=(0,c.parseColor)(v,w)).toString=function(){return m},D=!1}return Object.assign({},w)},get onchange(){return h.change&&h.change.listeners[0]},set onchange(v){this.off("change").on("change",v)},get oncoloradd(){return h.coloradd&&h.coloradd.listeners[0]},set oncoloradd(v){this.off("coloradd").on("coloradd",v)},get oncolorremove(){return h.colorremove&&h.colorremove.listeners[0]},set oncolorremove(v){this.off("colorremove").on("colorremove",v)},get palette(){return Object.keys(l.palette).filter(function(v){return l.palette[v]})},set palette(v){l.updatePalette(v)},show:function(){l.element.classList.remove("hidden")},hide:function(){l.element.classList.add("hidden")},toggle:function(){l.element.classList.toggle("hidden")},on:function(v,m){return v&&h[v]&&h[v].on(m),this},off:function(v,m){return v&&h[v]&&h[v].off(m),this},destroy:function(){h.change.off(),h.coloradd.off(),h.colorremove.off(),l.element.remove(),h=null,l=null}};return l.onchange=function(){for(var v=arguments.length,m=Array(v),A=0;A<v;A++)m[A]=arguments[A];D=!0,h.change.emit([M].concat(m),M)},l.oncoloradd=function(){for(var v=arguments.length,m=Array(v),A=0;A<v;A++)m[A]=arguments[A];h.coloradd.emit([M].concat(m),M)},l.oncolorremove=function(){for(var v=arguments.length,m=Array(v),A=0;A<v;A++)m[A]=arguments[A];h.colorremove.emit([M].concat(m),M)},l.element.ctrl=M,M}if(typeof window!="undefined"&&!document.querySelector('head>style[data-source="a-color-picker"]')){var k=s(5).toString(),F=document.createElement("style");F.setAttribute("type","text/css"),F.setAttribute("data-source","a-color-picker"),F.innerHTML=k,document.querySelector("head").appendChild(F)}n.createPicker=C,n.from=function(b,d){var l=function(h){return h?Array.isArray(h)?h:h instanceof HTMLElement?[h]:h instanceof NodeList?[].concat(J(h)):typeof h=="string"?[].concat(J(document.querySelectorAll(h))):h.jquery?h.get():[]:[]}(b).map(function(h,D){var w=C(h,d);return w.index=D,w});return l.on=function(h,D){return l.forEach(function(w){return w.on(h,D)}),this},l.off=function(h){return l.forEach(function(D){return D.off(h)}),this},l},n.parseColorToRgb=c.parseColorToRgb,n.parseColorToRgba=c.parseColorToRgba,n.parseColorToHsl=c.parseColorToHsl,n.parseColorToHsla=c.parseColorToHsla,n.parseColor=c.parseColor,n.rgbToHex=c.rgbToHex,n.hslToRgb=c.hslToRgb,n.rgbToHsl=c.rgbToHsl,n.rgbToHsv=c.rgbToHsv,n.rgbToInt=c.rgbToInt,n.intToRgb=c.intToRgb,n.getLuminance=c.getLuminance,n.COLOR_NAMES=c.COLOR_NAMES,n.PALETTE_MATERIAL_500=c.PALETTE_MATERIAL_500,n.PALETTE_MATERIAL_CHROME=c.PALETTE_MATERIAL_CHROME,n.VERSION="1.2.1"},function(e,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.nvl=n.ensureArray=n.limit=n.getLuminance=n.parseColor=n.parseColorToHsla=n.parseColorToHsl=n.cssHslaToHsla=n.cssHslToHsl=n.parseColorToRgba=n.parseColorToRgb=n.cssRgbaToRgba=n.cssRgbToRgb=n.cssColorToRgba=n.cssColorToRgb=n.intToRgb=n.rgbToInt=n.rgbToHsv=n.rgbToHsl=n.hslToRgb=n.rgbToHex=n.PALETTE_MATERIAL_CHROME=n.PALETTE_MATERIAL_500=n.COLOR_NAMES=void 0;var o=function(f,C){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f))return function(k,F){var b=[],d=!0,l=!1,h=void 0;try{for(var D,w=k[Symbol.iterator]();!(d=(D=w.next()).done)&&(b.push(D.value),!F||b.length!==F);d=!0);}catch(M){l=!0,h=M}finally{try{!d&&w.return&&w.return()}finally{if(l)throw h}}return b}(f,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")},p=function(f){return f&&f.__esModule?f:{default:f}}(s(0));function c(f){if(Array.isArray(f)){for(var C=0,k=Array(f.length);C<f.length;C++)k[C]=f[C];return k}return Array.from(f)}var _={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4","indianred ":"#CD5C5C","indigo ":"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function x(f,C,k){return f=+f,isNaN(f)||f<C?C:f>k?k:f}function L(f,C){return f??C}function H(f,C,k){var F=[x(f,0,255),x(C,0,255),x(k,0,255)];return"#"+("000000"+((f=F[0])<<16|(C=F[1])<<8|(k=F[2])).toString(16)).slice(-6)}function J(f,C,k){var F=void 0,b=void 0,d=void 0,l=[x(f,0,360)/360,x(C,0,100)/100,x(k,0,100)/100];if(f=l[0],k=l[2],(C=l[1])==0)F=b=d=k;else{var h=function(M,v,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?M+6*(v-M)*m:m<.5?v:m<2/3?M+(v-M)*(2/3-m)*6:M},D=k<.5?k*(1+C):k+C-k*C,w=2*k-D;F=h(w,D,f+1/3),b=h(w,D,f),d=h(w,D,f-1/3)}return[255*F,255*b,255*d].map(Math.round)}function q(f,C,k){var F=[x(f,0,255)/255,x(C,0,255)/255,x(k,0,255)/255];f=F[0],C=F[1],k=F[2];var b=Math.max(f,C,k),d=Math.min(f,C,k),l=void 0,h=void 0,D=(b+d)/2;if(b==d)l=h=0;else{var w=b-d;switch(h=D>.5?w/(2-b-d):w/(b+d),b){case f:l=(C-k)/w+(C<k?6:0);break;case C:l=(k-f)/w+2;break;case k:l=(f-C)/w+4}l/=6}return[360*l,100*h,100*D].map(Math.round)}function I(f,C,k){return f<<16|C<<8|k}function G(f){if(f){var C=_[f.toString().toLowerCase()],k=/^\s*#?((([0-9A-F])([0-9A-F])([0-9A-F]))|(([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})))\s*$/i.exec(C||f)||[],F=o(k,10),b=F[3],d=F[4],l=F[5],h=F[7],D=F[8],w=F[9];if(b!==void 0)return[parseInt(b+b,16),parseInt(d+d,16),parseInt(l+l,16)];if(h!==void 0)return[parseInt(h,16),parseInt(D,16),parseInt(w,16)]}}function V(f){if(f){var C=_[f.toString().toLowerCase()],k=/^\s*#?((([0-9A-F])([0-9A-F])([0-9A-F])([0-9A-F])?)|(([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})?))\s*$/i.exec(C||f)||[],F=o(k,12),b=F[3],d=F[4],l=F[5],h=F[6],D=F[8],w=F[9],M=F[10],v=F[11];if(b!==void 0)return[parseInt(b+b,16),parseInt(d+d,16),parseInt(l+l,16),h?+(parseInt(h+h,16)/255).toFixed(2):1];if(D!==void 0)return[parseInt(D,16),parseInt(w,16),parseInt(M,16),v?+(parseInt(v,16)/255).toFixed(2):1]}}function Z(f){if(f){var C=/^rgb\((\d+)[\s,](\d+)[\s,](\d+)\)/i.exec(f)||[],k=o(C,4),F=k[0],b=k[1],d=k[2],l=k[3];return F?[x(b,0,255),x(d,0,255),x(l,0,255)]:void 0}}function re(f){if(f){var C=/^rgba?\((\d+)\s*[\s,]\s*(\d+)\s*[\s,]\s*(\d+)(\s*[\s,]\s*(\d*(.\d+)?))?\)/i.exec(f)||[],k=o(C,6),F=k[0],b=k[1],d=k[2],l=k[3],h=k[5];return F?[x(b,0,255),x(d,0,255),x(l,0,255),x(L(h,1),0,1)]:void 0}}function U(f){if(Array.isArray(f))return[x(f[0],0,255),x(f[1],0,255),x(f[2],0,255),x(L(f[3],1),0,1)];var C=V(f)||re(f);return C&&C.length===3&&C.push(1),C}function ce(f){if(f){var C=/^hsl\((\d+)[\s,](\d+)[\s,](\d+)\)/i.exec(f)||[],k=o(C,4),F=k[0],b=k[1],d=k[2],l=k[3];return F?[x(b,0,360),x(d,0,100),x(l,0,100)]:void 0}}function ne(f){if(f){var C=/^hsla?\((\d+)\s*[\s,]\s*(\d+)\s*[\s,]\s*(\d+)(\s*[\s,]\s*(\d*(.\d+)?))?\)/i.exec(f)||[],k=o(C,6),F=k[0],b=k[1],d=k[2],l=k[3],h=k[5];return F?[x(b,0,255),x(d,0,255),x(l,0,255),x(L(h,1),0,1)]:void 0}}function de(f){if(Array.isArray(f))return[x(f[0],0,360),x(f[1],0,100),x(f[2],0,100),x(L(f[3],1),0,1)];var C=ne(f);return C&&C.length===3&&C.push(1),C}function ue(f,C){switch(C){case"rgb":default:return f.slice(0,3);case"rgbcss":return"rgb("+f[0]+", "+f[1]+", "+f[2]+")";case"rgbcss4":return"rgb("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")";case"rgba":return f;case"rgbacss":return"rgba("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")";case"hsl":return q.apply(void 0,c(f));case"hslcss":return"hsl("+(f=q.apply(void 0,c(f)))[0]+", "+f[1]+", "+f[2]+")";case"hslcss4":var k=q.apply(void 0,c(f));return"hsl("+k[0]+", "+k[1]+", "+k[2]+", "+f[3]+")";case"hsla":return[].concat(c(q.apply(void 0,c(f))),[f[3]]);case"hslacss":var F=q.apply(void 0,c(f));return"hsla("+F[0]+", "+F[1]+", "+F[2]+", "+f[3]+")";case"hex":return H.apply(void 0,c(f));case"hexcss4":return H.apply(void 0,c(f))+("00"+parseInt(255*f[3]).toString(16)).slice(-2);case"int":return I.apply(void 0,c(f))}}n.COLOR_NAMES=_,n.PALETTE_MATERIAL_500=["#F44336","#E91E63","#E91E63","#9C27B0","#9C27B0","#673AB7","#673AB7","#3F51B5","#3F51B5","#2196F3","#2196F3","#03A9F4","#03A9F4","#00BCD4","#00BCD4","#009688","#009688","#4CAF50","#4CAF50","#8BC34A","#8BC34A","#CDDC39","#CDDC39","#FFEB3B","#FFEB3B","#FFC107","#FFC107","#FF9800","#FF9800","#FF5722","#FF5722","#795548","#795548","#9E9E9E","#9E9E9E","#607D8B","#607D8B"],n.PALETTE_MATERIAL_CHROME=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],n.rgbToHex=H,n.hslToRgb=J,n.rgbToHsl=q,n.rgbToHsv=function(f,C,k){var F=[x(f,0,255)/255,x(C,0,255)/255,x(k,0,255)/255];f=F[0],C=F[1],k=F[2];var b,d=Math.max(f,C,k),l=Math.min(f,C,k),h=void 0,D=d,w=d-l;if(b=d===0?0:w/d,d==l)h=0;else{switch(d){case f:h=(C-k)/w+(C<k?6:0);break;case C:h=(k-f)/w+2;break;case k:h=(f-C)/w+4}h/=6}return[h,b,D]},n.rgbToInt=I,n.intToRgb=function(f){return[f>>16&255,f>>8&255,255&f]},n.cssColorToRgb=G,n.cssColorToRgba=V,n.cssRgbToRgb=Z,n.cssRgbaToRgba=re,n.parseColorToRgb=function(f){return Array.isArray(f)?f=[x(f[0],0,255),x(f[1],0,255),x(f[2],0,255)]:G(f)||Z(f)},n.parseColorToRgba=U,n.cssHslToHsl=ce,n.cssHslaToHsla=ne,n.parseColorToHsl=function(f){return Array.isArray(f)?f=[x(f[0],0,360),x(f[1],0,100),x(f[2],0,100)]:ce(f)},n.parseColorToHsla=de,n.parseColor=function(f,C){if(C=C||"rgb",f!=null){var k=void 0;if((k=U(f))||(k=de(f))&&(k=[].concat(c(J.apply(void 0,c(k))),[k[3]])))return(0,p.default)(C)?["rgb","rgbcss","rgbcss4","rgba","rgbacss","hsl","hslcss","hslcss4","hsla","hslacss","hex","hexcss4","int"].reduce(function(F,b){return F[b]=ue(k,b),F},C||{}):ue(k,C.toString().toLowerCase())}},n.getLuminance=function(f,C,k){return .2126*(f=(f/=255)<.03928?f/12.92:Math.pow((f+.055)/1.055,2.4))+.7152*(C=(C/=255)<.03928?C/12.92:Math.pow((C+.055)/1.055,2.4))+.0722*((k/=255)<.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))},n.limit=x,n.ensureArray=function(f){return f?Array.from(f):[]},n.nvl=L},function(e,n,s){e.exports=function(o){return o!=null&&typeof o=="object"&&Array.isArray(o)===!1}},function(e,n){e.exports='<div class="a-color-picker-row a-color-picker-stack a-color-picker-row-top"> <canvas class="a-color-picker-sl a-color-picker-transparent"></canvas> <div class=a-color-picker-dot></div> </div> <div class=a-color-picker-row> <div class="a-color-picker-stack a-color-picker-transparent a-color-picker-circle"> <div class=a-color-picker-preview> <input class=a-color-picker-clipbaord type=text> </div> </div> <div class=a-color-picker-column> <div class="a-color-picker-cell a-color-picker-stack"> <canvas class=a-color-picker-h></canvas> <div class=a-color-picker-dot></div> </div> <div class="a-color-picker-cell a-color-picker-alpha a-color-picker-stack" show-on-alpha> <canvas class="a-color-picker-a a-color-picker-transparent"></canvas> <div class=a-color-picker-dot></div> </div> </div> </div> <div class="a-color-picker-row a-color-picker-hsl" show-on-hsl> <label>H</label> <input nameref=H type=number maxlength=3 min=0 max=360 value=0> <label>S</label> <input nameref=S type=number maxlength=3 min=0 max=100 value=0> <label>L</label> <input nameref=L type=number maxlength=3 min=0 max=100 value=0> </div> <div class="a-color-picker-row a-color-picker-rgb" show-on-rgb> <label>R</label> <input nameref=R type=number maxlength=3 min=0 max=255 value=0> <label>G</label> <input nameref=G type=number maxlength=3 min=0 max=255 value=0> <label>B</label> <input nameref=B type=number maxlength=3 min=0 max=255 value=0> </div> <div class="a-color-picker-row a-color-picker-rgbhex a-color-picker-single-input" show-on-single-input> <label>HEX</label> <input nameref=RGBHEX type=text select-on-focus> </div> <div class="a-color-picker-row a-color-picker-palette"></div>'},function(e,n,s){var o=s(6);e.exports=typeof o=="string"?o:o.toString()},function(e,n,s){(e.exports=s(7)(!1)).push([e.i,`/*!
 * a-color-picker
 * https://github.com/narsenico/a-color-picker
 *
 * Copyright (c) 2017-2018, Gianfranco Caldi.
 * Released under the MIT License.
 */.a-color-picker{background-color:#fff;padding:0;display:inline-flex;flex-direction:column;user-select:none;width:232px;font:400 10px Helvetica,Arial,sans-serif;border-radius:3px;box-shadow:0 0 0 1px rgba(0,0,0,.05),0 2px 4px rgba(0,0,0,.25)}.a-color-picker,.a-color-picker-row,.a-color-picker input{box-sizing:border-box}.a-color-picker-row{padding:15px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;user-select:none}.a-color-picker-row-top{padding:0}.a-color-picker-row:not(:first-child){border-top:1px solid #f5f5f5}.a-color-picker-column{display:flex;flex-direction:column}.a-color-picker-cell{flex:1 1 auto;margin-bottom:4px}.a-color-picker-cell:last-child{margin-bottom:0}.a-color-picker-stack{position:relative}.a-color-picker-dot{position:absolute;width:14px;height:14px;top:0;left:0;background:#fff;pointer-events:none;border-radius:50px;z-index:1000;box-shadow:0 1px 2px rgba(0,0,0,.75)}.a-color-picker-a,.a-color-picker-h,.a-color-picker-sl{cursor:cell}.a-color-picker-a+.a-color-picker-dot,.a-color-picker-h+.a-color-picker-dot{top:-2px}.a-color-picker-a,.a-color-picker-h{border-radius:2px}.a-color-picker-preview{box-sizing:border-box;width:30px;height:30px;user-select:none;border-radius:15px}.a-color-picker-circle{border-radius:50px;border:1px solid #eee}.a-color-picker-hsl,.a-color-picker-rgb,.a-color-picker-single-input{justify-content:space-evenly}.a-color-picker-hsl>label,.a-color-picker-rgb>label,.a-color-picker-single-input>label{padding:0 8px;flex:0 0 auto;color:#969696}.a-color-picker-hsl>input,.a-color-picker-rgb>input,.a-color-picker-single-input>input{text-align:center;padding:2px 0;width:0;flex:1 1 auto;border:1px solid #e0e0e0;line-height:20px}.a-color-picker-hsl>input::-webkit-inner-spin-button,.a-color-picker-rgb>input::-webkit-inner-spin-button,.a-color-picker-single-input>input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.a-color-picker-hsl>input:focus,.a-color-picker-rgb>input:focus,.a-color-picker-single-input>input:focus{border-color:#04a9f4;outline:none}.a-color-picker-transparent{background-image:linear-gradient(-45deg,#cdcdcd 25%,transparent 0),linear-gradient(45deg,#cdcdcd 25%,transparent 0),linear-gradient(-45deg,transparent 75%,#cdcdcd 0),linear-gradient(45deg,transparent 75%,#cdcdcd 0);background-size:11px 11px;background-position:0 0,0 -5.5px,-5.5px 5.5px,5.5px 0}.a-color-picker-sl{border-radius:3px 3px 0 0}.a-color-picker.hide-alpha [show-on-alpha],.a-color-picker.hide-hsl [show-on-hsl],.a-color-picker.hide-rgb [show-on-rgb],.a-color-picker.hide-single-input [show-on-single-input]{display:none}.a-color-picker-clipbaord{width:100%;height:100%;opacity:0;cursor:pointer}.a-color-picker-palette{flex-flow:wrap;flex-direction:row;justify-content:flex-start;padding:10px}.a-color-picker-palette-color{width:15px;height:15px;flex:0 1 15px;margin:3px;box-sizing:border-box;cursor:pointer;border-radius:3px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.1)}.a-color-picker-palette-add{text-align:center;line-height:13px;color:#607d8b}.a-color-picker.hidden{display:none}`,""])},function(e,n){e.exports=function(s){var o=[];return o.toString=function(){return this.map(function(p){var c=function(_,x){var L=_[1]||"",H=_[3];if(!H)return L;if(x&&typeof btoa=="function"){var J=function(I){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(I))))+" */"}(H),q=H.sources.map(function(I){return"/*# sourceURL="+H.sourceRoot+I+" */"});return[L].concat(q).concat([J]).join(`
`)}return[L].join(`
`)}(p,s);return p[2]?"@media "+p[2]+"{"+c+"}":c}).join("")},o.i=function(p,c){typeof p=="string"&&(p=[[null,p,""]]);for(var _={},x=0;x<this.length;x++){var L=this[x][0];typeof L=="number"&&(_[L]=!0)}for(x=0;x<p.length;x++){var H=p[x];typeof H[0]=="number"&&_[H[0]]||(c&&!H[2]?H[2]=c:c&&(H[2]="("+H[2]+") and ("+c+")"),o.push(H))}},o}}])})}),gn=Ee(hn),Ft=gn;var ye={renew:540,idle:600,host:""};function Tt(t){Object.assign(ye,t),ye.idle!==0&&(window.onload=ve,window.onmousemove=ve,window.onmousedown=ve,window.ontouchstart=ve,window.onclick=ve,window.onkeypress=ve,ve(),nt())}var St,At,it;function ve(){it||(clearTimeout(St),St=setTimeout(_t,ye.idle*1e3))}function _t(){it=!0,clearTimeout(At);let t=new XMLHttpRequest;t.open("GET",`${ye.host}/api/user/cookie?destroy=true`),t.send();let a=document.body.appendChild(mapp.utils.html.node`<div id="InputMask">`),e=a.appendChild(mapp.utils.html.node`
    <form id="loginForm" action="${ye.host+"/api/user/login"}" method="post" autocomplete="off">
     
      <input style="display: none;" name="login" value=true>
  
      <input style="display:none;" name="language" required value="en">
  
      <div class="input-group">
        <input id="auth_user_email" name="email" type="email" required maxlength="50">
        <span class="bar"></span>
        <label for="auth_user_email">E-mail</label>
      </div>
  
      <div class="input-group">
        <input id="auth_user_password" name="password" type="password" required minlength="8">
        <span class="bar"></span>
        <label for="auth_user_password">Password</label>
      </div>
     
      <button id="btnLogin" type="submit">Log In</button>

      <div id="loginMessage" style="color: red"></div>
        
    </form>`);e.onsubmit=n=>{n.preventDefault();let s=new XMLHttpRequest;s.open("POST",`${ye.host}/api/user/login`),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onload=o=>{o.target.status===401&&(document.getElementById("loginMessage").textContent=o.target.response),o.target.status===200&&(it=!1,a.remove(),ve(),nt())},s.send(`login=true&email=${document.getElementById("auth_user_email").value}&password=${document.getElementById("auth_user_password").value}`)}}function nt(){At=setTimeout(t,ye.renew*1e3);function t(){let a=new XMLHttpRequest;a.open("GET",`${ye.host}/api/user/cookie?renew=true`),a.onload=e=>{if(e.target.status===401)return _t();nt()},a.send()}}var ot=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Fe={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:t=>typeof console!="undefined"&&console.warn(t),getWeek:t=>{let a=new Date(t.getTime());a.setHours(0,0,0,0),a.setDate(a.getDate()+3-(a.getDay()+6)%7);var e=new Date(a.getFullYear(),0,4);return 1+Math.round(((a.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Re={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:t=>{let a=t%100;if(a>3&&a<21)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Q=(t,a=2)=>`000${t}`.slice(a*-1),oe=t=>t===!0?1:0;function Lt(t,a){let e;return function(){clearTimeout(e),e=setTimeout(()=>t.apply(this,arguments),a)}}var at=t=>t instanceof Array?t:[t];function K(t,a,e){if(e===!0)return t.classList.add(a);t.classList.remove(a)}function O(t,a,e){let n=window.document.createElement(t);return a=a||"",e=e||"",n.className=a,e!==void 0&&(n.textContent=e),n}function Ye(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function $t(t,a){if(a(t))return t;if(t.parentNode)return $t(t.parentNode,a)}function qe(t,a){let e=O("div","numInputWrapper"),n=O("input","numInput "+t),s=O("span","arrowUp"),o=O("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),a!==void 0)for(let p in a)n.setAttribute(p,a[p]);return e.appendChild(n),e.appendChild(s),e.appendChild(o),e}function ee(t){try{return typeof t.composedPath=="function"?t.composedPath()[0]:t.target}catch(a){return t.target}}var rt=()=>{},Ve=(t,a,e)=>e.months[a?"shorthand":"longhand"][t],mn={D:rt,F:function(t,a,e){t.setMonth(e.months.longhand.indexOf(a))},G:(t,a)=>{t.setHours(parseFloat(a))},H:(t,a)=>{t.setHours(parseFloat(a))},J:(t,a)=>{t.setDate(parseFloat(a))},K:(t,a,e)=>{t.setHours(t.getHours()%12+12*oe(new RegExp(e.amPM[1],"i").test(a)))},M:function(t,a,e){t.setMonth(e.months.shorthand.indexOf(a))},S:(t,a)=>{t.setSeconds(parseFloat(a))},U:(t,a)=>new Date(parseFloat(a)*1e3),W:function(t,a,e){let n=parseInt(a),s=new Date(t.getFullYear(),0,2+(n-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+e.firstDayOfWeek),s},Y:(t,a)=>{t.setFullYear(parseFloat(a))},Z:(t,a)=>new Date(a),d:(t,a)=>{t.setDate(parseFloat(a))},h:(t,a)=>{t.setHours(parseFloat(a))},i:(t,a)=>{t.setMinutes(parseFloat(a))},j:(t,a)=>{t.setDate(parseFloat(a))},l:rt,m:(t,a)=>{t.setMonth(parseFloat(a)-1)},n:(t,a)=>{t.setMonth(parseFloat(a)-1)},s:(t,a)=>{t.setSeconds(parseFloat(a))},u:(t,a)=>new Date(parseFloat(a)),w:rt,y:(t,a)=>{t.setFullYear(2e3+parseFloat(a))}},st={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Pe={Z:t=>t.toISOString(),D:function(t,a,e){return a.weekdays.shorthand[Pe.w(t,a,e)]},F:function(t,a,e){return Ve(Pe.n(t,a,e)-1,!1,a)},G:function(t,a,e){return Q(Pe.h(t,a,e))},H:t=>Q(t.getHours()),J:function(t,a){return a.ordinal!==void 0?t.getDate()+a.ordinal(t.getDate()):t.getDate()},K:(t,a)=>a.amPM[oe(t.getHours()>11)],M:function(t,a){return Ve(t.getMonth(),!0,a)},S:t=>Q(t.getSeconds()),U:t=>t.getTime()/1e3,W:function(t,a,e){return e.getWeek(t)},Y:t=>Q(t.getFullYear(),4),d:t=>Q(t.getDate()),h:t=>t.getHours()%12?t.getHours()%12:12,i:t=>Q(t.getMinutes()),j:t=>t.getDate(),l:function(t,a){return a.weekdays.longhand[t.getDay()]},m:t=>Q(t.getMonth()+1),n:t=>t.getMonth()+1,s:t=>t.getSeconds(),u:t=>t.getTime(),w:t=>t.getDay(),y:t=>String(t.getFullYear()).substring(2)},Ht=({config:t=Fe,l10n:a=Re,isMobile:e=!1})=>(n,s,o)=>{let p=o||a;return t.formatDate!==void 0&&!e?t.formatDate(n,s,p):s.split("").map((c,_,x)=>Pe[c]&&x[_-1]!=="\\"?Pe[c](n,p,t):c!=="\\"?c:"").join("")},lt=({config:t=Fe,l10n:a=Re})=>(e,n,s,o)=>{if(e!==0&&!e)return;let p=o||a,c,_=e;if(e instanceof Date)c=new Date(e.getTime());else if(typeof e!="string"&&e.toFixed!==void 0)c=new Date(e);else if(typeof e=="string"){let x=n||(t||Fe).dateFormat,L=String(e).trim();if(L==="today")c=new Date,s=!0;else if(/Z$/.test(L)||/GMT$/.test(L))c=new Date(e);else if(t&&t.parseDate)c=t.parseDate(e,x);else{c=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0));let H,J=[];for(let q=0,I=0,G="";q<x.length;q++){let V=x[q],Z=V==="\\",re=x[q-1]==="\\"||Z;if(st[V]&&!re){G+=st[V];let U=new RegExp(G).exec(e);U&&(H=!0)&&J[V!=="Y"?"push":"unshift"]({fn:mn[V],val:U[++I]})}else Z||(G+=".");J.forEach(({fn:U,val:ce})=>c=U(c,ce,p)||c)}c=H?c:void 0}}if(!(c instanceof Date&&!isNaN(c.getTime()))){t.errorHandler(new Error(`Invalid date provided: ${_}`));return}return s===!0&&c.setHours(0,0,0,0),c};function te(t,a,e=!0){return e!==!1?new Date(t.getTime()).setHours(0,0,0,0)-new Date(a.getTime()).setHours(0,0,0,0):t.getTime()-a.getTime()}var bn=(t,a,e)=>t>Math.min(a,e)&&t<Math.max(a,e),yn={DAY:864e5};function ct(t){let a=t.defaultHour,e=t.defaultMinute,n=t.defaultSeconds;if(t.minDate!==void 0){let s=t.minDate.getHours(),o=t.minDate.getMinutes(),p=t.minDate.getSeconds();a<s&&(a=s),a===s&&e<o&&(e=o),a===s&&e===o&&n<p&&(n=t.minDate.getSeconds())}if(t.maxDate!==void 0){let s=t.maxDate.getHours(),o=t.maxDate.getMinutes();a=Math.min(a,s),a===s&&(e=Math.min(o,e)),a===s&&e===o&&(n=t.maxDate.getSeconds())}return{hours:a,minutes:e,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(t,...a){if(!t)throw TypeError("Cannot convert undefined or null to object");for(let e of a)e&&Object.keys(e).forEach(n=>t[n]=e[n]);return t});var vn=300;function wn(t,a){let e={config:Object.assign(Object.assign({},Fe),Y.defaultConfig),l10n:Re};e.parseDate=lt({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=I,e._setHoursFromDate=H,e._positionCalendar=he,e.changeMonth=m,e.changeYear=Ce,e.clear=A,e.close=P,e._createElement=O,e.destroy=B,e.isEnabled=ae,e.jumpToDate=Z,e.open=Ae,e.redraw=Oe,e.set=zt,e.setDate=Gt,e.toggle=Wt;function n(){e.utils={getDaysInMonth(i=e.currentMonth,r=e.currentYear){return i===1&&(r%4==0&&r%100!=0||r%400==0)?29:e.l10n.daysInMonth[i]}}}function s(){e.element=e.input=t,e.isOpen=!1,Ue(),Be(),qt(),Yt(),n(),e.isMobile||ce(),V(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&H(e.config.noCalendar?e.latestSelectedDateObj:void 0),be(!1)),p();let i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&i&&he(),z("onReady")}function o(i){return i.bind(e)}function p(){let i=e.config;i.weekNumbers===!1&&i.showMonths===1||i.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){let r=(e.days.offsetWidth+1)*i.showMonths;e.daysContainer.style.width=r+"px",e.calendarContainer.style.width=r+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function c(i){if(e.selectedDates.length===0){let u=e.config.minDate===void 0||te(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),g=ct(e.config);u.setHours(g.hours,g.minutes,g.seconds,u.getMilliseconds()),e.selectedDates=[u],e.latestSelectedDateObj=u}i!==void 0&&i.type!=="blur"&&Kt(i);let r=e._input.value;L(),be(),e._input.value!==r&&e._debouncedChange()}function _(i,r){return i%12+12*oe(r===e.l10n.amPM[1])}function x(i){switch(i%24){case 0:case 12:return 12;default:return i%12}}function L(){if(e.hourElement===void 0||e.minuteElement===void 0)return;let i=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,r=(parseInt(e.minuteElement.value,10)||0)%60,u=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(i=_(i,e.amPM.textContent));let g=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&te(e.latestSelectedDateObj,e.config.minDate,!0)===0;if(e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&te(e.latestSelectedDateObj,e.config.maxDate,!0)===0){let y=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;i=Math.min(i,y.getHours()),i===y.getHours()&&(r=Math.min(r,y.getMinutes())),r===y.getMinutes()&&(u=Math.min(u,y.getSeconds()))}if(g){let y=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;i=Math.max(i,y.getHours()),i===y.getHours()&&r<y.getMinutes()&&(r=y.getMinutes()),r===y.getMinutes()&&(u=Math.max(u,y.getSeconds()))}J(i,r,u)}function H(i){let r=i||e.latestSelectedDateObj;r&&J(r.getHours(),r.getMinutes(),r.getSeconds())}function J(i,r,u){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(i%24,r,u||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=Q(e.config.time_24hr?i:(12+i)%12+12*oe(i%12==0)),e.minuteElement.value=Q(r),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[oe(i>=12)]),e.secondElement!==void 0&&(e.secondElement.value=Q(u)))}function q(i){let r=ee(i),u=parseInt(r.value)+(i.delta||0);(u/1e3>1||i.key==="Enter"&&!/[^\d]/.test(u.toString()))&&Ce(u)}function I(i,r,u,g){if(r instanceof Array)return r.forEach(E=>I(i,E,u,g));if(i instanceof Array)return i.forEach(E=>I(E,r,u,g));i.addEventListener(r,u,g),e._handlers.push({remove:()=>i.removeEventListener(r,u)})}function G(){z("onChange")}function V(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(r=>{Array.prototype.forEach.call(e.element.querySelectorAll(`[data-${r}]`),u=>I(u,"click",e[r]))}),e.isMobile){Vt();return}let i=Lt(Xe,50);if(e._debouncedChange=Lt(G,vn),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&I(e.daysContainer,"mouseover",r=>{e.config.mode==="range"&&fe(ee(r))}),I(window.document.body,"keydown",Se),!e.config.inline&&!e.config.static&&I(window,"resize",i),window.ontouchstart!==void 0?I(window.document,"touchstart",W):I(window.document,"mousedown",W),I(window.document,"focus",W,{capture:!0}),e.config.clickOpens===!0&&(I(e._input,"focus",e.open),I(e._input,"click",e.open)),e.daysContainer!==void 0&&(I(e.monthNav,"click",Ut),I(e.monthNav,["keyup","increment"],q),I(e.daysContainer,"click",je)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){let r=u=>ee(u).select();I(e.timeContainer,["increment"],c),I(e.timeContainer,"blur",c,{capture:!0}),I(e.timeContainer,"click",re),I([e.hourElement,e.minuteElement],["focus","click"],r),e.secondElement!==void 0&&I(e.secondElement,"focus",()=>e.secondElement&&e.secondElement.select()),e.amPM!==void 0&&I(e.amPM,"click",u=>{c(u),G()})}e.config.allowInput&&I(e._input,"blur",We)}function Z(i,r){let u=i!==void 0?e.parseDate(i):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),g=e.currentYear,E=e.currentMonth;try{u!==void 0&&(e.currentYear=u.getFullYear(),e.currentMonth=u.getMonth())}catch(y){y.message="Invalid date supplied: "+u,e.config.errorHandler(y)}r&&e.currentYear!==g&&(z("onYearChange"),b()),r&&(e.currentYear!==g||e.currentMonth!==E)&&z("onMonthChange"),e.redraw()}function re(i){let r=ee(i);~r.className.indexOf("arrow")&&U(i,r.classList.contains("arrowUp")?1:-1)}function U(i,r,u){let g=i&&ee(i),E=u||g&&g.parentNode&&g.parentNode.firstChild,y=Je("increment");y.delta=r,E&&E.dispatchEvent(y)}function ce(){let i=window.document.createDocumentFragment();if(e.calendarContainer=O("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(i.appendChild(h()),e.innerContainer=O("div","flatpickr-innerContainer"),e.config.weekNumbers){let{weekWrapper:u,weekNumbers:g}=v();e.innerContainer.appendChild(u),e.weekNumbers=g,e.weekWrapper=u}e.rContainer=O("div","flatpickr-rContainer"),e.rContainer.appendChild(w()),e.daysContainer||(e.daysContainer=O("div","flatpickr-days"),e.daysContainer.tabIndex=-1),F(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),i.appendChild(e.innerContainer)}e.config.enableTime&&i.appendChild(D()),K(e.calendarContainer,"rangeMode",e.config.mode==="range"),K(e.calendarContainer,"animate",e.config.animate===!0),K(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(i);let r=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!r&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){let u=O("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(u,e.element),u.appendChild(e.element),e.altInput&&u.appendChild(e.altInput),u.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function ne(i,r,u,g){let E=ae(r,!0),y=O("span","flatpickr-day "+i,r.getDate().toString());return y.dateObj=r,y.$i=g,y.setAttribute("aria-label",e.formatDate(r,e.config.ariaDateFormat)),i.indexOf("hidden")===-1&&te(r,e.now)===0&&(e.todayDateElem=y,y.classList.add("today"),y.setAttribute("aria-current","date")),E?(y.tabIndex=-1,Ze(r)&&(y.classList.add("selected"),e.selectedDateElem=y,e.config.mode==="range"&&(K(y,"startRange",e.selectedDates[0]&&te(r,e.selectedDates[0],!0)===0),K(y,"endRange",e.selectedDates[1]&&te(r,e.selectedDates[1],!0)===0),i==="nextMonthDay"&&y.classList.add("inRange")))):y.classList.add("flatpickr-disabled"),e.config.mode==="range"&&Xt(r)&&!Ze(r)&&y.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&i!=="prevMonthDay"&&u%7==1&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(r)+"</span>"),z("onDayCreate",y),y}function de(i){i.focus(),e.config.mode==="range"&&fe(i)}function ue(i){let r=i>0?0:e.config.showMonths-1,u=i>0?e.config.showMonths:-1;for(let g=r;g!=u;g+=i){let E=e.daysContainer.children[g],y=i>0?0:E.children.length-1,S=i>0?E.children.length:-1;for(let T=y;T!=S;T+=i){let $=E.children[T];if($.className.indexOf("hidden")===-1&&ae($.dateObj))return $}}}function f(i,r){let u=i.className.indexOf("Month")===-1?i.dateObj.getMonth():e.currentMonth,g=r>0?e.config.showMonths:-1,E=r>0?1:-1;for(let y=u-e.currentMonth;y!=g;y+=E){let S=e.daysContainer.children[y],T=u-e.currentMonth===y?i.$i+r:r<0?S.children.length-1:0,$=S.children.length;for(let R=T;R>=0&&R<$&&R!=(r>0?$:-1);R+=E){let N=S.children[R];if(N.className.indexOf("hidden")===-1&&ae(N.dateObj)&&Math.abs(i.$i-R)>=Math.abs(r))return de(N)}}e.changeMonth(E),C(ue(E),0)}function C(i,r){let u=pe(document.activeElement||document.body),g=i!==void 0?i:u?document.activeElement:e.selectedDateElem!==void 0&&pe(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&pe(e.todayDateElem)?e.todayDateElem:ue(r>0?1:-1);g===void 0?e._input.focus():u?f(g,r):de(g)}function k(i,r){let u=(new Date(i,r,1).getDay()-e.l10n.firstDayOfWeek+7)%7,g=e.utils.getDaysInMonth((r-1+12)%12,i),E=e.utils.getDaysInMonth(r,i),y=window.document.createDocumentFragment(),S=e.config.showMonths>1,T=S?"prevMonthDay hidden":"prevMonthDay",$=S?"nextMonthDay hidden":"nextMonthDay",R=g+1-u,N=0;for(;R<=g;R++,N++)y.appendChild(ne(T,new Date(i,r-1,R),R,N));for(R=1;R<=E;R++,N++)y.appendChild(ne("",new Date(i,r,R),R,N));for(let X=E+1;X<=42-u&&(e.config.showMonths===1||N%7!=0);X++,N++)y.appendChild(ne($,new Date(i,r+1,X%E),X,N));let ie=O("div","dayContainer");return ie.appendChild(y),ie}function F(){if(e.daysContainer===void 0)return;Ye(e.daysContainer),e.weekNumbers&&Ye(e.weekNumbers);let i=document.createDocumentFragment();for(let r=0;r<e.config.showMonths;r++){let u=new Date(e.currentYear,e.currentMonth,1);u.setMonth(e.currentMonth+r),i.appendChild(k(u.getFullYear(),u.getMonth()))}e.daysContainer.appendChild(i),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&fe()}function b(){if(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")return;let i=function(r){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&r<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&r>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(let r=0;r<12;r++){if(!i(r))continue;let u=O("option","flatpickr-monthDropdown-month");u.value=new Date(e.currentYear,r).getMonth().toString(),u.textContent=Ve(r,e.config.shorthandCurrentMonth,e.l10n),u.tabIndex=-1,e.currentMonth===r&&(u.selected=!0),e.monthsDropdownContainer.appendChild(u)}}function d(){let i=O("div","flatpickr-month"),r=window.document.createDocumentFragment(),u;e.config.showMonths>1||e.config.monthSelectorType==="static"?u=O("span","cur-month"):(e.monthsDropdownContainer=O("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),I(e.monthsDropdownContainer,"change",S=>{let T=ee(S),$=parseInt(T.value,10);e.changeMonth($-e.currentMonth),z("onMonthChange")}),b(),u=e.monthsDropdownContainer);let g=qe("cur-year",{tabindex:"-1"}),E=g.getElementsByTagName("input")[0];E.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&E.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(E.setAttribute("max",e.config.maxDate.getFullYear().toString()),E.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());let y=O("div","flatpickr-current-month");return y.appendChild(u),y.appendChild(g),r.appendChild(y),i.appendChild(r),{container:i,yearElement:E,monthElement:u}}function l(){Ye(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(let i=e.config.showMonths;i--;){let r=d();e.yearElements.push(r.yearElement),e.monthElements.push(r.monthElement),e.monthNav.appendChild(r.container)}e.monthNav.appendChild(e.nextMonthNav)}function h(){return e.monthNav=O("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=O("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=O("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,l(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:()=>e.__hidePrevMonthArrow,set(i){e.__hidePrevMonthArrow!==i&&(K(e.prevMonthNav,"flatpickr-disabled",i),e.__hidePrevMonthArrow=i)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:()=>e.__hideNextMonthArrow,set(i){e.__hideNextMonthArrow!==i&&(K(e.nextMonthNav,"flatpickr-disabled",i),e.__hideNextMonthArrow=i)}}),e.currentYearElement=e.yearElements[0],Ne(),e.monthNav}function D(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");let i=ct(e.config);e.timeContainer=O("div","flatpickr-time"),e.timeContainer.tabIndex=-1;let r=O("span","flatpickr-time-separator",":"),u=qe("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=u.getElementsByTagName("input")[0];let g=qe("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=g.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=Q(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?i.hours:x(i.hours)),e.minuteElement.value=Q(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():i.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(u),e.timeContainer.appendChild(r),e.timeContainer.appendChild(g),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");let E=qe("flatpickr-second");e.secondElement=E.getElementsByTagName("input")[0],e.secondElement.value=Q(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():i.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(O("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(E)}return e.config.time_24hr||(e.amPM=O("span","flatpickr-am-pm",e.l10n.amPM[oe((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function w(){e.weekdayContainer?Ye(e.weekdayContainer):e.weekdayContainer=O("div","flatpickr-weekdays");for(let i=e.config.showMonths;i--;){let r=O("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(r)}return M(),e.weekdayContainer}function M(){if(!e.weekdayContainer)return;let i=e.l10n.firstDayOfWeek,r=[...e.l10n.weekdays.shorthand];i>0&&i<r.length&&(r=[...r.splice(i,r.length),...r.splice(0,i)]);for(let u=e.config.showMonths;u--;)e.weekdayContainer.children[u].innerHTML=`
      <span class='flatpickr-weekday'>
        ${r.join("</span><span class='flatpickr-weekday'>")}
      </span>
      `}function v(){e.calendarContainer.classList.add("hasWeeks");let i=O("div","flatpickr-weekwrapper");i.appendChild(O("span","flatpickr-weekday",e.l10n.weekAbbreviation));let r=O("div","flatpickr-weeks");return i.appendChild(r),{weekWrapper:i,weekNumbers:r}}function m(i,r=!0){let u=r?i:i-e.currentMonth;u<0&&e._hidePrevMonthArrow===!0||u>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=u,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,z("onYearChange"),b()),F(),z("onMonthChange"),Ne())}function A(i=!0,r=!0){if(e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,r===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){let{hours:u,minutes:g,seconds:E}=ct(e.config);J(u,g,E)}e.redraw(),i&&z("onChange")}function P(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),z("onClose")}function B(){e.config!==void 0&&z("onDestroy");for(let i=e._handlers.length;i--;)e._handlers[i].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){let i=e.calendarContainer.parentNode;if(i.lastChild&&i.removeChild(i.lastChild),i.parentNode){for(;i.firstChild;)i.parentNode.insertBefore(i.firstChild,i);i.parentNode.removeChild(i)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(i=>{try{delete e[i]}catch(r){}})}function j(i){return e.config.appendTo&&e.config.appendTo.contains(i)?!0:e.calendarContainer.contains(i)}function W(i){if(e.isOpen&&!e.config.inline){let r=ee(i),u=j(r),g=r===e.input||r===e.altInput||e.element.contains(r)||i.path&&i.path.indexOf&&(~i.path.indexOf(e.input)||~i.path.indexOf(e.altInput)),E=i.type==="blur"?g&&i.relatedTarget&&!j(i.relatedTarget):!g&&!u&&!j(i.relatedTarget),y=!e.config.ignoredFocusElements.some(S=>S.contains(r));E&&y&&(e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&c(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&(e.clear(!1),e.redraw()))}}function Ce(i){if(!i||e.config.minDate&&i<e.config.minDate.getFullYear()||e.config.maxDate&&i>e.config.maxDate.getFullYear())return;let r=i,u=e.currentYear!==r;e.currentYear=r||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),u&&(e.redraw(),z("onYearChange"),b())}function ae(i,r=!0){var u;let g=e.parseDate(i,void 0,r);if(e.config.minDate&&g&&te(g,e.config.minDate,r!==void 0?r:!e.minDateHasTime)<0||e.config.maxDate&&g&&te(g,e.config.maxDate,r!==void 0?r:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(g===void 0)return!1;let E=!!e.config.enable,y=(u=e.config.enable)!==null&&u!==void 0?u:e.config.disable;for(let S=0,T;S<y.length;S++){if(T=y[S],typeof T=="function"&&T(g))return E;if(T instanceof Date&&g!==void 0&&T.getTime()===g.getTime())return E;if(typeof T=="string"){let $=e.parseDate(T,void 0,!0);return $&&$.getTime()===g.getTime()?E:!E}else if(typeof T=="object"&&g!==void 0&&T.from&&T.to&&g.getTime()>=T.from.getTime()&&g.getTime()<=T.to.getTime())return E}return!E}function pe(i){return e.daysContainer!==void 0?i.className.indexOf("hidden")===-1&&i.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(i):!1}function We(i){i.target===e._input&&(e.selectedDates.length>0||e._input.value.length>0)&&!(i.relatedTarget&&j(i.relatedTarget))&&e.setDate(e._input.value,!0,i.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function Se(i){let r=ee(i),u=e.config.wrap?t.contains(r):r===e._input,g=e.config.allowInput,E=e.isOpen&&(!g||!u),y=e.config.inline&&u&&!g;if(i.keyCode===13&&u){if(g)return e.setDate(e._input.value,!0,r===e.altInput?e.config.altFormat:e.config.dateFormat),r.blur();e.open()}else if(j(r)||E||y){let S=!!e.timeContainer&&e.timeContainer.contains(r);switch(i.keyCode){case 13:S?(i.preventDefault(),c(),ge()):je(i);break;case 27:i.preventDefault(),ge();break;case 8:case 46:u&&!e.config.allowInput&&(i.preventDefault(),e.clear());break;case 37:case 39:if(!S&&!u){if(i.preventDefault(),e.daysContainer!==void 0&&(g===!1||document.activeElement&&pe(document.activeElement))){let $=i.keyCode===39?1:-1;i.ctrlKey?(i.stopPropagation(),m($),C(ue(1),0)):C(void 0,$)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:i.preventDefault();let T=i.keyCode===40?1:-1;e.daysContainer&&r.$i!==void 0||r===e.input||r===e.altInput?i.ctrlKey?(i.stopPropagation(),Ce(e.currentYear-T),C(ue(1),0)):S||C(void 0,T*7):r===e.currentYearElement?Ce(e.currentYear-T):e.config.enableTime&&(!S&&e.hourElement&&e.hourElement.focus(),c(i),e._debouncedChange());break;case 9:if(S){let $=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(N=>N),R=$.indexOf(r);if(R!==-1){let N=$[R+(i.shiftKey?-1:1)];i.preventDefault(),(N||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(r)&&i.shiftKey&&(i.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&r===e.amPM)switch(i.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],L(),be();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],L(),be();break}(u||j(r))&&z("onKeyDown",i)}function fe(i){if(e.selectedDates.length!==1||i&&(!i.classList.contains("flatpickr-day")||i.classList.contains("flatpickr-disabled")))return;let r=i?i.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),u=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),g=Math.min(r,e.selectedDates[0].getTime()),E=Math.max(r,e.selectedDates[0].getTime()),y=!1,S=0,T=0;for(let $=g;$<E;$+=yn.DAY)ae(new Date($),!0)||(y=y||$>g&&$<E,$<u&&(!S||$>S)?S=$:$>u&&(!T||$<T)&&(T=$));for(let $=0;$<e.config.showMonths;$++){let R=e.daysContainer.children[$];for(let N=0,ie=R.children.length;N<ie;N++){let X=R.children[N],se=X.dateObj.getTime(),Le=S>0&&se<S||T>0&&se>T;if(Le){X.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach($e=>{X.classList.remove($e)});continue}else if(y&&!Le)continue;["startRange","inRange","endRange","notAllowed"].forEach($e=>{X.classList.remove($e)}),i!==void 0&&(i.classList.add(r<=e.selectedDates[0].getTime()?"startRange":"endRange"),u<r&&se===u?X.classList.add("startRange"):u>r&&se===u&&X.classList.add("endRange"),se>=S&&(T===0||se<=T)&&bn(se,u,r)&&X.classList.add("inRange"))}}}function Xe(){e.isOpen&&!e.config.static&&!e.config.inline&&he()}function Ae(i,r=e._positionElement){if(e.isMobile===!0){if(i){i.preventDefault();let g=ee(i);g&&g.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),z("onOpen");return}else if(e._input.disabled||e.config.inline)return;let u=e.isOpen;e.isOpen=!0,u||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),z("onOpen"),he(r)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(i===void 0||!e.timeContainer.contains(i.relatedTarget))&&setTimeout(()=>e.hourElement.select(),50)}function we(i){return r=>{let u=e.config[`_${i}Date`]=e.parseDate(r,e.config.dateFormat),g=e.config[`_${i==="min"?"max":"min"}Date`];u!==void 0&&(e[i==="min"?"minDateHasTime":"maxDateHasTime"]=u.getHours()>0||u.getMinutes()>0||u.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(E=>ae(E)),!e.selectedDates.length&&i==="min"&&H(u),be()),e.daysContainer&&(Oe(),u!==void 0?e.currentYearElement[i]=u.getFullYear().toString():e.currentYearElement.removeAttribute(i),e.currentYearElement.disabled=!!g&&u!==void 0&&g.getFullYear()===u.getFullYear())}}function Ue(){let i=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=Object.assign(Object.assign({},JSON.parse(JSON.stringify(t.dataset||{}))),a),u={};e.config.parseDate=r.parseDate,e.config.formatDate=r.formatDate,Object.defineProperty(e.config,"enable",{get:()=>e.config._enable,set:y=>{e.config._enable=pt(y)}}),Object.defineProperty(e.config,"disable",{get:()=>e.config._disable,set:y=>{e.config._disable=pt(y)}});let g=r.mode==="time";if(!r.dateFormat&&(r.enableTime||g)){let y=Y.defaultConfig.dateFormat||Fe.dateFormat;u.dateFormat=r.noCalendar||g?"H:i"+(r.enableSeconds?":S":""):y+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||g)&&!r.altFormat){let y=Y.defaultConfig.altFormat||Fe.altFormat;u.altFormat=r.noCalendar||g?"h:i"+(r.enableSeconds?":S K":" K"):y+` h:i${r.enableSeconds?":S":""} K`}Object.defineProperty(e.config,"minDate",{get:()=>e.config._minDate,set:we("min")}),Object.defineProperty(e.config,"maxDate",{get:()=>e.config._maxDate,set:we("max")});let E=y=>S=>{e.config[y==="min"?"_minTime":"_maxTime"]=e.parseDate(S,"H:i:S")};Object.defineProperty(e.config,"minTime",{get:()=>e.config._minTime,set:E("min")}),Object.defineProperty(e.config,"maxTime",{get:()=>e.config._maxTime,set:E("max")}),r.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,u,r);for(let y=0;y<i.length;y++)e.config[i[y]]=e.config[i[y]]===!0||e.config[i[y]]==="true";ot.filter(y=>e.config[y]!==void 0).forEach(y=>{e.config[y]=at(e.config[y]||[]).map(o)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(let y=0;y<e.config.plugins.length;y++){let S=e.config.plugins[y](e)||{};for(let T in S)ot.indexOf(T)>-1?e.config[T]=at(S[T]).map(o).concat(e.config[T]):typeof r[T]=="undefined"&&(e.config[T]=S[T])}r.altInputClass||(e.config.altInputClass=ke().className+" "+e.config.altInputClass),z("onParseConfig")}function ke(){return e.config.wrap?t.querySelector("[data-input]"):t}function Be(){typeof e.config.locale!="object"&&typeof Y.l10ns[e.config.locale]=="undefined"&&e.config.errorHandler(new Error(`flatpickr: invalid locale ${e.config.locale}`)),e.l10n=Object.assign(Object.assign({},Y.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?Y.l10ns[e.config.locale]:void 0),st.K=`(${e.l10n.amPM[0]}|${e.l10n.amPM[1]}|${e.l10n.amPM[0].toLowerCase()}|${e.l10n.amPM[1].toLowerCase()})`,Object.assign(Object.assign({},a),JSON.parse(JSON.stringify(t.dataset||{}))).time_24hr===void 0&&Y.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Ht(e),e.parseDate=lt({config:e.config,l10n:e.l10n})}function he(i){if(typeof e.config.position=="function")return void e.config.position(e,i);if(e.calendarContainer===void 0)return;z("onPreCalendarPosition");let r=i||e._positionElement,u=Array.prototype.reduce.call(e.calendarContainer.children,(He,Qe)=>He+Qe.offsetHeight,0),g=e.calendarContainer.offsetWidth,E=e.config.position.split(" "),y=E[0],S=E.length>1?E[1]:null,T=r.getBoundingClientRect(),$=window.innerHeight-T.bottom,R=y==="above"||y!=="below"&&$<u&&T.top>u,N=window.pageYOffset+T.top+(R?-u-2:r.offsetHeight+2);if(K(e.calendarContainer,"arrowTop",!R),K(e.calendarContainer,"arrowBottom",R),e.config.inline)return;let ie=window.pageXOffset+T.left,X=!1,ze=!1;S==="center"?(ie-=(g-T.width)/2,X=!0):S==="right"&&(ie-=g-T.width,ze=!0),K(e.calendarContainer,"arrowLeft",!X&&!ze),K(e.calendarContainer,"arrowCenter",X),K(e.calendarContainer,"arrowRight",ze);let se=window.document.body.offsetWidth-(window.pageXOffset+T.right),Le=ie+g>window.document.body.offsetWidth,$e=se+g>window.document.body.offsetWidth;if(K(e.calendarContainer,"rightMost",Le),!e.config.static)if(e.calendarContainer.style.top=`${N}px`,!Le)e.calendarContainer.style.left=`${ie}px`,e.calendarContainer.style.right="auto";else if(!$e)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=`${se}px`;else{let He=Ke();if(He===void 0)return;let Qe=window.document.body.offsetWidth,Jt=Math.max(0,Qe/2-g/2),Zt=".flatpickr-calendar.centerMost:before",Qt=".flatpickr-calendar.centerMost:after",en=He.cssRules.length,tn=`{left:${T.left}px;right:auto;}`;K(e.calendarContainer,"rightMost",!1),K(e.calendarContainer,"centerMost",!0),He.insertRule(`${Zt},${Qt}${tn}`,en),e.calendarContainer.style.left=`${Jt}px`,e.calendarContainer.style.right="auto"}}function Ke(){let i=null;for(let r=0;r<document.styleSheets.length;r++){let u=document.styleSheets[r];try{u.cssRules}catch(g){continue}i=u;break}return i??_e()}function _e(){let i=document.createElement("style");return document.head.appendChild(i),i.sheet}function Oe(){e.config.noCalendar||e.isMobile||(b(),Ne(),F())}function ge(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function je(i){i.preventDefault(),i.stopPropagation();let r=S=>S.classList&&S.classList.contains("flatpickr-day")&&!S.classList.contains("flatpickr-disabled")&&!S.classList.contains("notAllowed"),u=$t(ee(i),r);if(u===void 0)return;let g=u,E=e.latestSelectedDateObj=new Date(g.dateObj.getTime()),y=(E.getMonth()<e.currentMonth||E.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=g,e.config.mode==="single")e.selectedDates=[E];else if(e.config.mode==="multiple"){let S=Ze(E);S?e.selectedDates.splice(parseInt(S),1):e.selectedDates.push(E)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=E,e.selectedDates.push(E),te(E,e.selectedDates[0],!0)!==0&&e.selectedDates.sort((S,T)=>S.getTime()-T.getTime()));if(L(),y){let S=e.currentYear!==E.getFullYear();e.currentYear=E.getFullYear(),e.currentMonth=E.getMonth(),S&&(z("onYearChange"),b()),z("onMonthChange")}if(Ne(),F(),be(),!y&&e.config.mode!=="range"&&e.config.showMonths===1?de(g):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){let S=e.config.mode==="single"&&!e.config.enableTime,T=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(S||T)&&ge()}G()}let me={locale:[Be,M],showMonths:[l,p,w],minDate:[Z],maxDate:[Z],clickOpens:[()=>{e.config.clickOpens===!0?(I(e._input,"focus",e.open),I(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function zt(i,r){if(i!==null&&typeof i=="object"){Object.assign(e.config,i);for(let u in i)me[u]!==void 0&&me[u].forEach(g=>g())}else e.config[i]=r,me[i]!==void 0?me[i].forEach(u=>u()):ot.indexOf(i)>-1&&(e.config[i]=at(r));e.redraw(),be(!0)}function ut(i,r){let u=[];if(i instanceof Array)u=i.map(g=>e.parseDate(g,r));else if(i instanceof Date||typeof i=="number")u=[e.parseDate(i,r)];else if(typeof i=="string")switch(e.config.mode){case"single":case"time":u=[e.parseDate(i,r)];break;case"multiple":u=i.split(e.config.conjunction).map(g=>e.parseDate(g,r));break;case"range":u=i.split(e.l10n.rangeSeparator).map(g=>e.parseDate(g,r));break}else e.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(i)}`));e.selectedDates=e.config.allowInvalidPreload?u:u.filter(g=>g instanceof Date&&ae(g,!1)),e.config.mode==="range"&&e.selectedDates.sort((g,E)=>g.getTime()-E.getTime())}function Gt(i,r=!1,u=e.config.dateFormat){if(i!==0&&!i||i instanceof Array&&i.length===0)return e.clear(r);ut(i,u),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),Z(void 0,r),H(),e.selectedDates.length===0&&e.clear(!1),be(r),r&&z("onChange")}function pt(i){return i.slice().map(r=>typeof r=="string"||typeof r=="number"||r instanceof Date?e.parseDate(r,void 0,!0):r&&typeof r=="object"&&r.from&&r.to?{from:e.parseDate(r.from,void 0),to:e.parseDate(r.to,void 0)}:r).filter(r=>r)}function Yt(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;let i=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);i&&ut(i,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function qt(){if(e.input=ke(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=O(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),e._positionElement=e.config.positionElement||e._input}function Vt(){let i=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=O("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=i,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=i==="datetime-local"?"Y-m-d\\TH:i:S":i==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch(r){}I(e.mobileInput,"change",r=>{e.setDate(ee(r).value,!1,e.mobileFormatStr),z("onChange"),z("onClose")})}function Wt(i){if(e.isOpen===!0)return e.close();e.open(i)}function z(i,r){if(e.config===void 0)return;let u=e.config[i];if(u!==void 0&&u.length>0)for(let g=0;u[g]&&g<u.length;g++)u[g](e.selectedDates,e.input.value,e,r);i==="onChange"&&(e.input.dispatchEvent(Je("change")),e.input.dispatchEvent(Je("input")))}function Je(i){let r=document.createEvent("Event");return r.initEvent(i,!0,!0),r}function Ze(i){for(let r=0;r<e.selectedDates.length;r++)if(te(e.selectedDates[r],i)===0)return""+r;return!1}function Xt(i){return e.config.mode!=="range"||e.selectedDates.length<2?!1:te(i,e.selectedDates[0])>=0&&te(i,e.selectedDates[1])<=0}function Ne(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach((i,r)=>{let u=new Date(e.currentYear,e.currentMonth,1);u.setMonth(e.currentMonth+r),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[r].textContent=Ve(u.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=u.getMonth().toString(),i.value=u.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function ft(i){return e.selectedDates.map(r=>e.formatDate(r,i)).filter((r,u,g)=>e.config.mode!=="range"||e.config.enableTime||g.indexOf(r)===u).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function be(i=!0){e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=ft(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=ft(e.config.altFormat)),i!==!1&&z("onValueUpdate")}function Ut(i){let r=ee(i),u=e.prevMonthNav.contains(r),g=e.nextMonthNav.contains(r);u||g?m(u?-1:1):e.yearElements.indexOf(r)>=0?r.select():r.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):r.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function Kt(i){i.preventDefault();let r=i.type==="keydown",u=ee(i),g=u;e.amPM!==void 0&&u===e.amPM&&(e.amPM.textContent=e.l10n.amPM[oe(e.amPM.textContent===e.l10n.amPM[0])]);let E=parseFloat(g.getAttribute("min")),y=parseFloat(g.getAttribute("max")),S=parseFloat(g.getAttribute("step")),T=parseInt(g.value,10),$=i.delta||(r?i.which===38?1:-1:0),R=T+S*$;if(typeof g.value!="undefined"&&g.value.length===2){let N=g===e.hourElement,ie=g===e.minuteElement;R<E?(R=y+R+oe(!N)+(oe(N)&&oe(!e.amPM)),ie&&U(void 0,-1,e.hourElement)):R>y&&(R=g===e.hourElement?R-y-oe(!e.amPM):E,ie&&U(void 0,1,e.hourElement)),e.amPM&&N&&(S===1?R+T===23:Math.abs(R-T)>S)&&(e.amPM.textContent=e.l10n.amPM[oe(e.amPM.textContent===e.l10n.amPM[0])]),g.value=Q(R)}}return s(),e}function Te(t,a){let e=Array.prototype.slice.call(t).filter(s=>s instanceof HTMLElement),n=[];for(let s=0;s<e.length;s++){let o=e[s];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=wn(o,a||{}),n.push(o._flatpickr)}catch(p){console.error(p)}}return n.length===1?n[0]:n}typeof HTMLElement!="undefined"&&typeof HTMLCollection!="undefined"&&typeof NodeList!="undefined"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return Te(this,t)},HTMLElement.prototype.flatpickr=function(t){return Te([this],t)});var Y=function(t,a){return typeof t=="string"?Te(window.document.querySelectorAll(t),a):t instanceof Node?Te([t],a):Te(t,a)};Y.defaultConfig={};Y.l10ns={en:Object.assign({},Re),default:Object.assign({},Re)};Y.localize=t=>{Y.l10ns.default=Object.assign(Object.assign({},Y.l10ns.default),t)};Y.setDefaults=t=>{Y.defaultConfig=Object.assign(Object.assign({},Y.defaultConfig),t)};Y.parseDate=lt({});Y.formatDate=Ht({});Y.compareDates=te;typeof jQuery!="undefined"&&typeof jQuery.fn!="undefined"&&(jQuery.fn.flatpickr=function(t){return Te(this,t)});Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof t=="string"?parseInt(t,10):t))};typeof window!="undefined"&&(window.flatpickr=Y);var It=Y;var Cn=Me(function(t,a){(function(e,n){n(a)})(De,function(e){var n=typeof window!="undefined"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},s={firstDayOfWeek:1,weekdays:{shorthand:["dim","lun","mar","mer","jeu","ven","sam"],longhand:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},months:{shorthand:["janv","fvr","mars","avr","mai","juin","juil","aot","sept","oct","nov","dc"],longhand:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},ordinal:function(p){return p>1?"":"er"},rangeSeparator:" au ",weekAbbreviation:"Sem",scrollTitle:"Dfiler pour augmenter la valeur",toggleTitle:"Cliquer pour basculer",time_24hr:!0};n.l10ns.fr=s;var o=n.l10ns;e.French=s,e.default=o,Object.defineProperty(e,"__esModule",{value:!0})})}),kn=Ee(Cn),Rt=kn;var xn=Me(function(t,a){(function(e,n){n(a)})(De,function(e){var n=typeof window!="undefined"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},s={weekdays:{shorthand:["Nd","Pn","Wt","r","Cz","Pt","So"],longhand:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"]},months:{shorthand:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],longhand:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"]},rangeSeparator:" do ",weekAbbreviation:"tydz.",scrollTitle:"Przewi, aby zwikszy",toggleTitle:"Kliknij, aby przeczy",firstDayOfWeek:1,time_24hr:!0,ordinal:function(){return"."}};n.l10ns.pl=s;var o=n.l10ns;e.Polish=s,e.default=o,Object.defineProperty(e,"__esModule",{value:!0})})}),Dn=Ee(xn),Pt=Dn;function Bt(t){let a={pl:Pt.default.pl,fr:Rt.default.fr};return It(t.element,{locale:t.locale&&a[t.locale]||null,defaultDate:t.value,enableTime:t.enableTime||!1,time_24hr:!0,dateFormat:t.enableTime?"Y/m/j H:i":"Y/m/j",onClose:(e,n,s)=>{t.callback(n)}})}function Ot(t){return Math.round(new Date(t).getTime()/1e3)}function dt(t){if(!t)return;if(t=parseInt(t)?t:t.getValue(),isNaN(parseInt(t)))return" ";let a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=new Date(t*1e3),s=n.getFullYear(),o=a[n.getMonth()],p=n.getDate(),c=e[n.getDay()];return`${p} ${o} ${s}`}function jt(t){if(!t)return;if(t=parseInt(t)?t:t.getValue(),isNaN(parseInt(t)))return" ";let a=dt(t),e=new Date(t*1e3),n="0"+e.getHours(),s="0"+e.getMinutes(),o="0"+e.getSeconds();return`${a}, ${n.substr(-2)}:${s.substr(-2)}`}var Nt={layers:{view:Ie,listview:wt},locations:{view:Ge,listview:kt,infoj:xt},dataview:Et,tabview:Dt,toggleExpanderParent:Mt,aColorPicker:Ft,flatpickr:Bt,formatDate:dt,formatDateTime:jt,meltDateStr:Ot,idle:Tt};window.mapp=window.mapp||{};window.mapp.ui=Nt;var En=Nt;export{En as default};
/*!
 * a-color-picker
 * https://github.com/narsenico/a-color-picker
 *
 * Copyright (c) 2017-2019, Gianfranco Caldi.
 * Released under the MIT License.
 */
/*!
 * a-color-picker (https://github.com/narsenico/a-color-picker)
 * 
 * Copyright (c) 2017-2018, Gianfranco Caldi.
 * Released under the MIT License.
 */
/*!
* is-plain-object <https://github.com/jonschlinkert/is-plain-object>
*
* Copyright (c) 2014-2017, Jon Schlinkert.
* Released under the MIT License.
*/
/*!
* isobject <https://github.com/jonschlinkert/isobject>
*
* Copyright (c) 2014-2017, Jon Schlinkert.
* Released under the MIT License.
*/
//# sourceMappingURL=ui.js.map
